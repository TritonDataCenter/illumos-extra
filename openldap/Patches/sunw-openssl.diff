Only in openldap-2.4.26-32: autom4te.cache
Only in openldap-2.4.26-32: config.log
diff -ur openldap-2.4.26/configure openldap-2.4.26-32/configure
--- openldap-2.4.26/configure	2011-06-30 15:13:36.000000000 +0000
+++ openldap-2.4.26-32/configure	2013-01-11 23:50:35.290138481 +0000
@@ -1,15 +1,15 @@
 #! /bin/sh
 # From configure.in Id: 0872d81cac3e054090899a5f936e75ca8e679e94 .
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.65.
+# Generated by GNU Autoconf 2.68.
 #
 # Copyright 1998-2011 The OpenLDAP Foundation. All rights reserved.
 # Restrictions apply, see COPYRIGHT and LICENSE files.
 #
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
-# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009 Free Software Foundation,
-# Inc.
+# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software
+# Foundation, Inc.
 #
 #
 # This configure script is free software; the Free Software Foundation
@@ -93,6 +93,7 @@
 IFS=" ""	$as_nl"
 
 # Find who we are.  Look in the path if we contain no directory separator.
+as_myself=
 case $0 in #((
   *[\\/]* ) as_myself=$0 ;;
   *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -218,11 +219,18 @@
   # We cannot yet assume a decent shell, so we have to provide a
 	# neutralization value for shells without unset; and this also
 	# works around shells that cannot unset nonexistent variables.
+	# Preserve -v and -x to the replacement shell.
 	BASH_ENV=/dev/null
 	ENV=/dev/null
 	(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
 	export CONFIG_SHELL
-	exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
+	case $- in # ((((
+	  *v*x* | *x*v* ) as_opts=-vx ;;
+	  *v* ) as_opts=-v ;;
+	  *x* ) as_opts=-x ;;
+	  * ) as_opts= ;;
+	esac
+	exec "$CONFIG_SHELL" $as_opts "$as_myself" ${1+"$@"}
 fi
 
     if test x$as_have_required = xno; then :
@@ -321,7 +329,7 @@
       test -d "$as_dir" && break
     done
     test -z "$as_dirs" || eval "mkdir $as_dirs"
-  } || test -d "$as_dir" || as_fn_error "cannot create directory $as_dir"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
 
 
 } # as_fn_mkdir_p
@@ -361,19 +369,19 @@
 fi # as_fn_arith
 
 
-# as_fn_error ERROR [LINENO LOG_FD]
-# ---------------------------------
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
 # Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
 # provided, also output the error to LOG_FD, referencing LINENO. Then exit the
-# script with status $?, using 1 if that was 0.
+# script with STATUS, using 1 if that was 0.
 as_fn_error ()
 {
-  as_status=$?; test $as_status -eq 0 && as_status=1
-  if test "$3"; then
-    as_lineno=${as_lineno-"$2"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-    $as_echo "$as_me:${as_lineno-$LINENO}: error: $1" >&$3
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
   fi
-  $as_echo "$as_me: error: $1" >&2
+  $as_echo "$as_me: error: $2" >&2
   as_fn_exit $as_status
 } # as_fn_error
 
@@ -685,7 +693,7 @@
 exec 6>&1
 
 # Name of the host.
-# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
+# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
 # so uname gets run too.
 ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
 
@@ -1089,8 +1097,9 @@
   fi
 
   case $ac_option in
-  *=*)	ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
-  *)	ac_optarg=yes ;;
+  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
+  *=)   ac_optarg= ;;
+  *)    ac_optarg=yes ;;
   esac
 
   # Accept the important Cygnus configure options, so we can diagnose typos.
@@ -1135,7 +1144,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid feature name: $ac_useropt"
+      as_fn_error $? "invalid feature name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1161,7 +1170,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid feature name: $ac_useropt"
+      as_fn_error $? "invalid feature name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1365,7 +1374,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid package name: $ac_useropt"
+      as_fn_error $? "invalid package name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1381,7 +1390,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid package name: $ac_useropt"
+      as_fn_error $? "invalid package name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1411,8 +1420,8 @@
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
     x_libraries=$ac_optarg ;;
 
-  -*) as_fn_error "unrecognized option: \`$ac_option'
-Try \`$0 --help' for more information."
+  -*) as_fn_error $? "unrecognized option: \`$ac_option'
+Try \`$0 --help' for more information"
     ;;
 
   *=*)
@@ -1420,7 +1429,7 @@
     # Reject names that are not valid shell variable names.
     case $ac_envvar in #(
       '' | [0-9]* | *[!_$as_cr_alnum]* )
-      as_fn_error "invalid variable name: \`$ac_envvar'" ;;
+      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
     esac
     eval $ac_envvar=\$ac_optarg
     export $ac_envvar ;;
@@ -1430,7 +1439,7 @@
     $as_echo "$as_me: WARNING: you should use --build, --host, --target" >&2
     expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
       $as_echo "$as_me: WARNING: invalid host type: $ac_option" >&2
-    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
+    : "${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}"
     ;;
 
   esac
@@ -1438,13 +1447,13 @@
 
 if test -n "$ac_prev"; then
   ac_option=--`echo $ac_prev | sed 's/_/-/g'`
-  as_fn_error "missing argument to $ac_option"
+  as_fn_error $? "missing argument to $ac_option"
 fi
 
 if test -n "$ac_unrecognized_opts"; then
   case $enable_option_checking in
     no) ;;
-    fatal) as_fn_error "unrecognized options: $ac_unrecognized_opts" ;;
+    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
     *)     $as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
   esac
 fi
@@ -1467,7 +1476,7 @@
     [\\/$]* | ?:[\\/]* )  continue;;
     NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
   esac
-  as_fn_error "expected an absolute directory name for --$ac_var: $ac_val"
+  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
 done
 
 # There might be people who depend on the old broken behavior: `$host'
@@ -1481,8 +1490,8 @@
 if test "x$host_alias" != x; then
   if test "x$build_alias" = x; then
     cross_compiling=maybe
-    $as_echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
-    If a cross compiler is detected then cross compile mode will be used." >&2
+    $as_echo "$as_me: WARNING: if you wanted to set the --build type, don't use --host.
+    If a cross compiler is detected then cross compile mode will be used" >&2
   elif test "x$build_alias" != "x$host_alias"; then
     cross_compiling=yes
   fi
@@ -1497,9 +1506,9 @@
 ac_pwd=`pwd` && test -n "$ac_pwd" &&
 ac_ls_di=`ls -di .` &&
 ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
-  as_fn_error "working directory cannot be determined"
+  as_fn_error $? "working directory cannot be determined"
 test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
-  as_fn_error "pwd does not report name of working directory"
+  as_fn_error $? "pwd does not report name of working directory"
 
 
 # Find the source files, if location was not specified.
@@ -1538,11 +1547,11 @@
 fi
 if test ! -r "$srcdir/$ac_unique_file"; then
   test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
-  as_fn_error "cannot find sources ($ac_unique_file) in $srcdir"
+  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
 fi
 ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
 ac_abs_confdir=`(
-	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error "$ac_msg"
+	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
 	pwd)`
 # When building in place, set srcdir=.
 if test "$ac_abs_confdir" = "$ac_pwd"; then
@@ -1582,7 +1591,7 @@
       --help=short        display options specific to this package
       --help=recursive    display the short help of all the included packages
   -V, --version           display version information and exit
-  -q, --quiet, --silent   do not print \`checking...' messages
+  -q, --quiet, --silent   do not print \`checking ...' messages
       --cache-file=FILE   cache test results in FILE [disabled]
   -C, --config-cache      alias for \`--cache-file=config.cache'
   -n, --no-create         do not create output files
@@ -1811,9 +1820,9 @@
 if $ac_init_version; then
   cat <<\_ACEOF
 configure
-generated by GNU Autoconf 2.65
+generated by GNU Autoconf 2.68
 
-Copyright (C) 2009 Free Software Foundation, Inc.
+Copyright (C) 2010 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 
@@ -1860,7 +1869,7 @@
 
 	ac_retval=1
 fi
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_compile
@@ -1906,7 +1915,7 @@
   # interfere with the next link command; also delete a directory that is
   # left behind by Apple's compiler.  We do this before executing the actions.
   rm -rf conftest.dSYM conftest_ipa8_conftest.oo
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_link
@@ -1932,7 +1941,7 @@
     mv -f conftest.er1 conftest.err
   fi
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
-  test $ac_status = 0; } >/dev/null && {
+  test $ac_status = 0; } > conftest.i && {
 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        }; then :
@@ -1943,7 +1952,7 @@
 
     ac_retval=1
 fi
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_cpp
@@ -1956,10 +1965,10 @@
 ac_fn_c_check_header_mongrel ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-  if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+  if eval \${$3+:} false; then :
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${$3+:} false; then :
   $as_echo_n "(cached) " >&6
 fi
 eval ac_res=\$$3
@@ -1995,7 +2004,7 @@
 else
   ac_header_preproc=no
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc" >&5
 $as_echo "$ac_header_preproc" >&6; }
 
@@ -2018,17 +2027,15 @@
 $as_echo "$as_me: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&2;}
     { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
 $as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
-( cat <<\_ASBOX
-## --------------------------------------------- ##
+( $as_echo "## --------------------------------------------- ##
 ## Report this to <http://www.openldap.org/its/> ##
-## --------------------------------------------- ##
-_ASBOX
+## --------------------------------------------- ##"
      ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${$3+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=\$ac_header_compiler"
@@ -2037,7 +2044,7 @@
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
 fi
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
 
 } # ac_fn_c_check_header_mongrel
 
@@ -2078,7 +2085,7 @@
        ac_retval=$ac_status
 fi
   rm -rf conftest.dSYM conftest_ipa8_conftest.oo
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_run
@@ -2092,7 +2099,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${$3+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2110,7 +2117,7 @@
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
 
 } # ac_fn_c_check_header_compile
 
@@ -2122,7 +2129,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${$3+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2177,7 +2184,7 @@
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
 
 } # ac_fn_c_check_func
 
@@ -2190,7 +2197,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${$3+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=no"
@@ -2231,7 +2238,7 @@
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
 
 } # ac_fn_c_check_type
 
@@ -2244,7 +2251,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2.$3" >&5
 $as_echo_n "checking for $2.$3... " >&6; }
-if { as_var=$4; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${$4+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2288,7 +2295,7 @@
 eval ac_res=\$$4
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
 
 } # ac_fn_c_check_member
 
@@ -2465,7 +2472,7 @@
 rm -f conftest.val
 
   fi
-  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
+  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_compute_int
@@ -2474,7 +2481,7 @@
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by $as_me, which was
-generated by GNU Autoconf 2.65.  Invocation command line was
+generated by GNU Autoconf 2.68.  Invocation command line was
 
   $ $0 $@
 
@@ -2584,11 +2591,9 @@
   {
     echo
 
-    cat <<\_ASBOX
-## ---------------- ##
+    $as_echo "## ---------------- ##
 ## Cache variables. ##
-## ---------------- ##
-_ASBOX
+## ---------------- ##"
     echo
     # The following way of writing the cache mishandles newlines in values,
 (
@@ -2622,11 +2627,9 @@
 )
     echo
 
-    cat <<\_ASBOX
-## ----------------- ##
+    $as_echo "## ----------------- ##
 ## Output variables. ##
-## ----------------- ##
-_ASBOX
+## ----------------- ##"
     echo
     for ac_var in $ac_subst_vars
     do
@@ -2639,11 +2642,9 @@
     echo
 
     if test -n "$ac_subst_files"; then
-      cat <<\_ASBOX
-## ------------------- ##
+      $as_echo "## ------------------- ##
 ## File substitutions. ##
-## ------------------- ##
-_ASBOX
+## ------------------- ##"
       echo
       for ac_var in $ac_subst_files
       do
@@ -2657,11 +2658,9 @@
     fi
 
     if test -s confdefs.h; then
-      cat <<\_ASBOX
-## ----------- ##
+      $as_echo "## ----------- ##
 ## confdefs.h. ##
-## ----------- ##
-_ASBOX
+## ----------- ##"
       echo
       cat confdefs.h
       echo
@@ -2716,7 +2715,12 @@
 ac_site_file1=NONE
 ac_site_file2=NONE
 if test -n "$CONFIG_SITE"; then
-  ac_site_file1=$CONFIG_SITE
+  # We do not want a PATH search for config.site.
+  case $CONFIG_SITE in #((
+    -*)  ac_site_file1=./$CONFIG_SITE;;
+    */*) ac_site_file1=$CONFIG_SITE;;
+    *)   ac_site_file1=./$CONFIG_SITE;;
+  esac
 elif test "x$prefix" != xNONE; then
   ac_site_file1=$prefix/share/config.site
   ac_site_file2=$prefix/etc/config.site
@@ -2731,7 +2735,11 @@
     { $as_echo "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
 $as_echo "$as_me: loading site script $ac_site_file" >&6;}
     sed 's/^/| /' "$ac_site_file" >&5
-    . "$ac_site_file"
+    . "$ac_site_file" \
+      || { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "failed to load site script $ac_site_file
+See \`config.log' for more details" "$LINENO" 5; }
   fi
 done
 
@@ -2791,7 +2799,7 @@
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
   { $as_echo "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
 $as_echo "$as_me: error: changes in the environment can compromise the build" >&2;}
-  as_fn_error "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
+  as_fn_error $? "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
 fi
 ## -------------------- ##
 ## Main body of script. ##
@@ -2832,16 +2840,22 @@
 
 ac_aux_dir=
 for ac_dir in build "$srcdir"/build; do
-  for ac_t in install-sh install.sh shtool; do
-    if test -f "$ac_dir/$ac_t"; then
-      ac_aux_dir=$ac_dir
-      ac_install_sh="$ac_aux_dir/$ac_t -c"
-      break 2
-    fi
-  done
+  if test -f "$ac_dir/install-sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install-sh -c"
+    break
+  elif test -f "$ac_dir/install.sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install.sh -c"
+    break
+  elif test -f "$ac_dir/shtool"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/shtool install -c"
+    break
+  fi
 done
 if test -z "$ac_aux_dir"; then
-  as_fn_error "cannot find install-sh, install.sh, or shtool in build \"$srcdir\"/build" "$LINENO" 5
+  as_fn_error $? "cannot find install-sh, install.sh, or shtool in build \"$srcdir\"/build" "$LINENO" 5
 fi
 
 # These three variables are undocumented and unsupported,
@@ -2855,13 +2869,13 @@
 
 eval `$ac_aux_dir/version.sh`
 if test -z "$OL_STRING"; then
-	as_fn_error "could not determine version" "$LINENO" 5
+	as_fn_error $? "could not determine version" "$LINENO" 5
 fi
 
 if test -f "$ac_aux_dir/shtool" && test ! -d $ac_aux_dir/shtool; then
 	ac_cv_shtool="$ac_aux_dir/shtool"
 else
-	as_fn_error "no shtool found in $ac_aux_dir" "$LINENO" 5
+	as_fn_error $? "no shtool found in $ac_aux_dir" "$LINENO" 5
 fi
 
 SHTOOL="$ac_cv_shtool"
@@ -2883,27 +2897,27 @@
 
 # Make sure we can run config.sub.
 $SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
-  as_fn_error "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
+  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
 $as_echo_n "checking build system type... " >&6; }
-if test "${ac_cv_build+set}" = set; then :
+if ${ac_cv_build+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_build_alias=$build_alias
 test "x$ac_build_alias" = x &&
   ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
 test "x$ac_build_alias" = x &&
-  as_fn_error "cannot guess build type; you must specify one" "$LINENO" 5
+  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
 ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
-  as_fn_error "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
+  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
 $as_echo "$ac_cv_build" >&6; }
 case $ac_cv_build in
 *-*-*) ;;
-*) as_fn_error "invalid value of canonical build" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
 esac
 build=$ac_cv_build
 ac_save_IFS=$IFS; IFS='-'
@@ -2921,14 +2935,14 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
 $as_echo_n "checking host system type... " >&6; }
-if test "${ac_cv_host+set}" = set; then :
+if ${ac_cv_host+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test "x$host_alias" = x; then
   ac_cv_host=$ac_cv_build
 else
   ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
-    as_fn_error "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
+    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
 fi
 
 fi
@@ -2936,7 +2950,7 @@
 $as_echo "$ac_cv_host" >&6; }
 case $ac_cv_host in
 *-*-*) ;;
-*) as_fn_error "invalid value of canonical host" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
 esac
 host=$ac_cv_host
 ac_save_IFS=$IFS; IFS='-'
@@ -2954,14 +2968,14 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking target system type" >&5
 $as_echo_n "checking target system type... " >&6; }
-if test "${ac_cv_target+set}" = set; then :
+if ${ac_cv_target+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test "x$target_alias" = x; then
   ac_cv_target=$ac_cv_host
 else
   ac_cv_target=`$SHELL "$ac_aux_dir/config.sub" $target_alias` ||
-    as_fn_error "$SHELL $ac_aux_dir/config.sub $target_alias failed" "$LINENO" 5
+    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $target_alias failed" "$LINENO" 5
 fi
 
 fi
@@ -2969,7 +2983,7 @@
 $as_echo "$ac_cv_target" >&6; }
 case $ac_cv_target in
 *-*-*) ;;
-*) as_fn_error "invalid value of canonical target" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical target" "$LINENO" 5;;
 esac
 target=$ac_cv_target
 ac_save_IFS=$IFS; IFS='-'
@@ -3010,7 +3024,7 @@
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install" >&5
 $as_echo_n "checking for a BSD-compatible install... " >&6; }
 if test -z "$INSTALL"; then
-if test "${ac_cv_path_install+set}" = set; then :
+if ${ac_cv_path_install+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -3110,7 +3124,7 @@
       # if, for instance, CONFIG_SHELL is bash and it inherits a
       # broken ls alias from the environment.  This has actually
       # happened.  Such a system could not be considered "sane".
-      as_fn_error "ls -t appears to fail.  Make sure there is not a broken
+      as_fn_error $? "ls -t appears to fail.  Make sure there is not a broken
 alias in your environment" "$LINENO" 5
    fi
 
@@ -3120,7 +3134,7 @@
    # Ok.
    :
 else
-   as_fn_error "newly created file is older than distributed files!
+   as_fn_error $? "newly created file is older than distributed files!
 Check your system clock" "$LINENO" 5
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
@@ -3187,7 +3201,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_AWK+set}" = set; then :
+if ${ac_cv_prog_AWK+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$AWK"; then
@@ -3227,7 +3241,7 @@
 $as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
 set x ${MAKE-make}
 ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
-if { as_var=ac_cv_prog_make_${ac_make}_set; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${ac_cv_prog_make_${ac_make}_set+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
@@ -3235,7 +3249,7 @@
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
-# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
+# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
 case `${MAKE-make} -f conftest.make 2>/dev/null` in
   *@@@%%%=?*=@@@%%%*)
     eval ac_cv_prog_make_${ac_make}_set=yes;;
@@ -3266,7 +3280,7 @@
 # test to see if srcdir already configured
 if test "`cd $srcdir && pwd`" != "`pwd`" &&
    test -f $srcdir/config.status; then
-  as_fn_error "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
+  as_fn_error $? "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
 fi
 
 # test whether we have cygpath
@@ -3312,7 +3326,7 @@
 set dummy ${ac_tool_prefix}strip; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_STRIP+set}" = set; then :
+if ${ac_cv_prog_STRIP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$STRIP"; then
@@ -3352,7 +3366,7 @@
 set dummy strip; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_STRIP+set}" = set; then :
+if ${ac_cv_prog_ac_ct_STRIP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_STRIP"; then
@@ -3501,7 +3515,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-debug" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-debug" "$LINENO" 5
 	fi
 	ol_enable_debug="$ol_arg"
 
@@ -3522,7 +3536,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-dynamic" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-dynamic" "$LINENO" 5
 	fi
 	ol_enable_dynamic="$ol_arg"
 
@@ -3543,7 +3557,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-syslog" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-syslog" "$LINENO" 5
 	fi
 	ol_enable_syslog="$ol_arg"
 
@@ -3564,7 +3578,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-proctitle" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-proctitle" "$LINENO" 5
 	fi
 	ol_enable_proctitle="$ol_arg"
 
@@ -3586,7 +3600,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-ipv6" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-ipv6" "$LINENO" 5
 	fi
 	ol_enable_ipv6="$ol_arg"
 
@@ -3607,7 +3621,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-local" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-local" "$LINENO" 5
 	fi
 	ol_enable_local="$ol_arg"
 
@@ -3629,7 +3643,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $withval for --with-cyrus_sasl" "$LINENO" 5
+		as_fn_error $? "bad value $withval for --with-cyrus_sasl" "$LINENO" 5
 	fi
 	ol_with_cyrus_sasl="$ol_arg"
 
@@ -3650,7 +3664,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $withval for --with-fetch" "$LINENO" 5
+		as_fn_error $? "bad value $withval for --with-fetch" "$LINENO" 5
 	fi
 	ol_with_fetch="$ol_arg"
 
@@ -3671,7 +3685,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $withval for --with-threads" "$LINENO" 5
+		as_fn_error $? "bad value $withval for --with-threads" "$LINENO" 5
 	fi
 	ol_with_threads="$ol_arg"
 
@@ -3692,7 +3706,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $withval for --with-tls" "$LINENO" 5
+		as_fn_error $? "bad value $withval for --with-tls" "$LINENO" 5
 	fi
 	ol_with_tls="$ol_arg"
 
@@ -3713,7 +3727,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $withval for --with-yielding_select" "$LINENO" 5
+		as_fn_error $? "bad value $withval for --with-yielding_select" "$LINENO" 5
 	fi
 	ol_with_yielding_select="$ol_arg"
 
@@ -3734,7 +3748,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $withval for --with-mp" "$LINENO" 5
+		as_fn_error $? "bad value $withval for --with-mp" "$LINENO" 5
 	fi
 	ol_with_mp="$ol_arg"
 
@@ -3755,7 +3769,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $withval for --with-odbc" "$LINENO" 5
+		as_fn_error $? "bad value $withval for --with-odbc" "$LINENO" 5
 	fi
 	ol_with_odbc="$ol_arg"
 
@@ -3783,7 +3797,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-slapd" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-slapd" "$LINENO" 5
 	fi
 	ol_enable_slapd="$ol_arg"
 
@@ -3804,7 +3818,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-dynacl" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-dynacl" "$LINENO" 5
 	fi
 	ol_enable_dynacl="$ol_arg"
 
@@ -3825,7 +3839,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-aci" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-aci" "$LINENO" 5
 	fi
 	ol_enable_aci="$ol_arg"
 
@@ -3846,7 +3860,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-cleartext" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-cleartext" "$LINENO" 5
 	fi
 	ol_enable_cleartext="$ol_arg"
 
@@ -3867,7 +3881,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-crypt" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-crypt" "$LINENO" 5
 	fi
 	ol_enable_crypt="$ol_arg"
 
@@ -3888,7 +3902,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-lmpasswd" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-lmpasswd" "$LINENO" 5
 	fi
 	ol_enable_lmpasswd="$ol_arg"
 
@@ -3909,7 +3923,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-spasswd" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-spasswd" "$LINENO" 5
 	fi
 	ol_enable_spasswd="$ol_arg"
 
@@ -3930,7 +3944,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-modules" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-modules" "$LINENO" 5
 	fi
 	ol_enable_modules="$ol_arg"
 
@@ -3951,7 +3965,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-rewrite" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-rewrite" "$LINENO" 5
 	fi
 	ol_enable_rewrite="$ol_arg"
 
@@ -3972,7 +3986,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-rlookups" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-rlookups" "$LINENO" 5
 	fi
 	ol_enable_rlookups="$ol_arg"
 
@@ -3993,7 +4007,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-slapi" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-slapi" "$LINENO" 5
 	fi
 	ol_enable_slapi="$ol_arg"
 
@@ -4014,7 +4028,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-slp" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-slp" "$LINENO" 5
 	fi
 	ol_enable_slp="$ol_arg"
 
@@ -4035,7 +4049,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-wrappers" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-wrappers" "$LINENO" 5
 	fi
 	ol_enable_wrappers="$ol_arg"
 
@@ -4078,7 +4092,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-backends" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-backends" "$LINENO" 5
 	fi
 	ol_enable_backends="$ol_arg"
 
@@ -4097,7 +4111,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-bdb" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-bdb" "$LINENO" 5
 	fi
 	ol_enable_bdb="$ol_arg"
 
@@ -4118,7 +4132,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-dnssrv" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-dnssrv" "$LINENO" 5
 	fi
 	ol_enable_dnssrv="$ol_arg"
 
@@ -4139,7 +4153,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-hdb" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-hdb" "$LINENO" 5
 	fi
 	ol_enable_hdb="$ol_arg"
 
@@ -4160,7 +4174,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-ldap" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-ldap" "$LINENO" 5
 	fi
 	ol_enable_ldap="$ol_arg"
 
@@ -4181,7 +4195,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-meta" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-meta" "$LINENO" 5
 	fi
 	ol_enable_meta="$ol_arg"
 
@@ -4202,7 +4216,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-monitor" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-monitor" "$LINENO" 5
 	fi
 	ol_enable_monitor="$ol_arg"
 
@@ -4223,7 +4237,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-ndb" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-ndb" "$LINENO" 5
 	fi
 	ol_enable_ndb="$ol_arg"
 
@@ -4244,7 +4258,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-null" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-null" "$LINENO" 5
 	fi
 	ol_enable_null="$ol_arg"
 
@@ -4265,7 +4279,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-passwd" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-passwd" "$LINENO" 5
 	fi
 	ol_enable_passwd="$ol_arg"
 
@@ -4286,7 +4300,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-perl" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-perl" "$LINENO" 5
 	fi
 	ol_enable_perl="$ol_arg"
 
@@ -4307,7 +4321,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-relay" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-relay" "$LINENO" 5
 	fi
 	ol_enable_relay="$ol_arg"
 
@@ -4328,7 +4342,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-shell" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-shell" "$LINENO" 5
 	fi
 	ol_enable_shell="$ol_arg"
 
@@ -4349,7 +4363,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-sock" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-sock" "$LINENO" 5
 	fi
 	ol_enable_sock="$ol_arg"
 
@@ -4370,7 +4384,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-sql" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-sql" "$LINENO" 5
 	fi
 	ol_enable_sql="$ol_arg"
 
@@ -4419,7 +4433,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-overlays" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-overlays" "$LINENO" 5
 	fi
 	ol_enable_overlays="$ol_arg"
 
@@ -4438,7 +4452,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-accesslog" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-accesslog" "$LINENO" 5
 	fi
 	ol_enable_accesslog="$ol_arg"
 
@@ -4460,7 +4474,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-auditlog" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-auditlog" "$LINENO" 5
 	fi
 	ol_enable_auditlog="$ol_arg"
 
@@ -4482,7 +4496,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-collect" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-collect" "$LINENO" 5
 	fi
 	ol_enable_collect="$ol_arg"
 
@@ -4504,7 +4518,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-constraint" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-constraint" "$LINENO" 5
 	fi
 	ol_enable_constraint="$ol_arg"
 
@@ -4526,7 +4540,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-dds" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-dds" "$LINENO" 5
 	fi
 	ol_enable_dds="$ol_arg"
 
@@ -4548,7 +4562,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-deref" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-deref" "$LINENO" 5
 	fi
 	ol_enable_deref="$ol_arg"
 
@@ -4570,7 +4584,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-dyngroup" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-dyngroup" "$LINENO" 5
 	fi
 	ol_enable_dyngroup="$ol_arg"
 
@@ -4592,7 +4606,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-dynlist" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-dynlist" "$LINENO" 5
 	fi
 	ol_enable_dynlist="$ol_arg"
 
@@ -4614,7 +4628,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-memberof" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-memberof" "$LINENO" 5
 	fi
 	ol_enable_memberof="$ol_arg"
 
@@ -4636,7 +4650,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-ppolicy" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-ppolicy" "$LINENO" 5
 	fi
 	ol_enable_ppolicy="$ol_arg"
 
@@ -4658,7 +4672,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-proxycache" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-proxycache" "$LINENO" 5
 	fi
 	ol_enable_proxycache="$ol_arg"
 
@@ -4680,7 +4694,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-refint" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-refint" "$LINENO" 5
 	fi
 	ol_enable_refint="$ol_arg"
 
@@ -4702,7 +4716,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-retcode" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-retcode" "$LINENO" 5
 	fi
 	ol_enable_retcode="$ol_arg"
 
@@ -4724,7 +4738,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-rwm" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-rwm" "$LINENO" 5
 	fi
 	ol_enable_rwm="$ol_arg"
 
@@ -4746,7 +4760,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-seqmod" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-seqmod" "$LINENO" 5
 	fi
 	ol_enable_seqmod="$ol_arg"
 
@@ -4768,7 +4782,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-sssvlv" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-sssvlv" "$LINENO" 5
 	fi
 	ol_enable_sssvlv="$ol_arg"
 
@@ -4790,7 +4804,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-syncprov" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-syncprov" "$LINENO" 5
 	fi
 	ol_enable_syncprov="$ol_arg"
 
@@ -4812,7 +4826,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-translucent" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-translucent" "$LINENO" 5
 	fi
 	ol_enable_translucent="$ol_arg"
 
@@ -4834,7 +4848,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-unique" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-unique" "$LINENO" 5
 	fi
 	ol_enable_unique="$ol_arg"
 
@@ -4856,7 +4870,7 @@
 		fi
 	done
 	if test "$ol_arg" = "invalid" ; then
-		as_fn_error "bad value $enableval for --enable-valsort" "$LINENO" 5
+		as_fn_error $? "bad value $enableval for --enable-valsort" "$LINENO" 5
 	fi
 	ol_enable_valsort="$ol_arg"
 
@@ -5007,7 +5021,7 @@
 	test $ol_enable_sql = no ; then
 
 	if test $ol_enable_slapd = yes ; then
-		as_fn_error "slapd requires a backend" "$LINENO" 5
+		as_fn_error $? "slapd requires a backend" "$LINENO" 5
 	else
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: skipping slapd, no backend specified" >&5
 $as_echo "$as_me: WARNING: skipping slapd, no backend specified" >&2;}
@@ -5016,18 +5030,18 @@
 fi
 
 if test $ol_enable_meta/$ol_enable_ldap = yes/no ; then
-	as_fn_error "--enable-meta requires --enable-ldap" "$LINENO" 5
+	as_fn_error $? "--enable-meta requires --enable-ldap" "$LINENO" 5
 fi
 
 if test $ol_enable_lmpasswd = yes ; then
 	if test $ol_with_tls = no ; then
-		as_fn_error "LAN Manager passwords require OpenSSL" "$LINENO" 5
+		as_fn_error $? "LAN Manager passwords require OpenSSL" "$LINENO" 5
 	fi
 fi
 
 if test $ol_enable_spasswd = yes ; then
 	if test $ol_with_cyrus_sasl = no ; then
-		as_fn_error "options require --with-cyrus-sasl" "$LINENO" 5
+		as_fn_error $? "options require --with-cyrus-sasl" "$LINENO" 5
 	fi
 	ol_with_cyrus_sasl=yes
 fi
@@ -5144,7 +5158,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -5183,7 +5197,7 @@
 
 		if test "$CC" = cc ; then
 						if test $ol_with_threads != auto ; then
-				as_fn_error "--with-threads requires cc_r (or other suitable compiler) on AIX" "$LINENO" 5
+				as_fn_error $? "--with-threads requires cc_r (or other suitable compiler) on AIX" "$LINENO" 5
 			else
 				{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: disabling threads, no cc_r on AIX" >&5
 $as_echo "$as_me: WARNING: disabling threads, no cc_r on AIX" >&2;}
@@ -5206,7 +5220,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -5245,7 +5259,7 @@
 
 
 	if test "${CC}" = "missing" ; then
-		as_fn_error "Unable to locate cc(1) or suitable replacement.  Check PATH or set CC." "$LINENO" 5
+		as_fn_error $? "Unable to locate cc(1) or suitable replacement.  Check PATH or set CC." "$LINENO" 5
 	fi
 fi
 
@@ -5256,7 +5270,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_AR+set}" = set; then :
+if ${ac_cv_prog_AR+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$AR"; then
@@ -5295,7 +5309,7 @@
 
 
 	if test "${AR}" = "missing" ; then
-		as_fn_error "Unable to locate ar(1) or suitable replacement.  Check PATH or set AR." "$LINENO" 5
+		as_fn_error $? "Unable to locate ar(1) or suitable replacement.  Check PATH or set AR." "$LINENO" 5
 	fi
 fi
 
@@ -5402,7 +5416,7 @@
 set dummy ${ac_tool_prefix}gcc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -5442,7 +5456,7 @@
 set dummy gcc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
+if ${ac_cv_prog_ac_ct_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_CC"; then
@@ -5495,7 +5509,7 @@
 set dummy ${ac_tool_prefix}cc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -5535,7 +5549,7 @@
 set dummy cc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -5594,7 +5608,7 @@
 set dummy $ac_tool_prefix$ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -5638,7 +5652,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
+if ${ac_cv_prog_ac_ct_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_CC"; then
@@ -5692,8 +5706,8 @@
 
 test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "no acceptable C compiler found in \$PATH
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "no acceptable C compiler found in \$PATH
+See \`config.log' for more details" "$LINENO" 5; }
 
 # Provide some information about the compiler.
 $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -5807,9 +5821,8 @@
 
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "C compiler cannot create executables
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "C compiler cannot create executables
+See \`config.log' for more details" "$LINENO" 5; }
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
@@ -5851,8 +5864,8 @@
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot compute suffix of executables: cannot compile and link
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details" "$LINENO" 5; }
 fi
 rm -f conftest conftest$ac_cv_exeext
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
@@ -5909,9 +5922,9 @@
     else
 	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run C compiled programs.
+as_fn_error $? "cannot run C compiled programs.
 If you meant to cross compile, use \`--host'.
-See \`config.log' for more details." "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5; }
     fi
   fi
 fi
@@ -5922,7 +5935,7 @@
 ac_clean_files=$ac_clean_files_save
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
 $as_echo_n "checking for suffix of object files... " >&6; }
-if test "${ac_cv_objext+set}" = set; then :
+if ${ac_cv_objext+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -5962,8 +5975,8 @@
 
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot compute suffix of object files: cannot compile
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot compute suffix of object files: cannot compile
+See \`config.log' for more details" "$LINENO" 5; }
 fi
 rm -f conftest.$ac_cv_objext conftest.$ac_ext
 fi
@@ -5973,7 +5986,7 @@
 ac_objext=$OBJEXT
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler" >&5
 $as_echo_n "checking whether we are using the GNU C compiler... " >&6; }
-if test "${ac_cv_c_compiler_gnu+set}" = set; then :
+if ${ac_cv_c_compiler_gnu+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -6010,7 +6023,7 @@
 ac_save_CFLAGS=$CFLAGS
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
 $as_echo_n "checking whether $CC accepts -g... " >&6; }
-if test "${ac_cv_prog_cc_g+set}" = set; then :
+if ${ac_cv_prog_cc_g+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_save_c_werror_flag=$ac_c_werror_flag
@@ -6088,7 +6101,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89" >&5
 $as_echo_n "checking for $CC option to accept ISO C89... " >&6; }
-if test "${ac_cv_prog_cc_c89+set}" = set; then :
+if ${ac_cv_prog_cc_c89+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_cv_prog_cc_c89=no
@@ -6187,7 +6200,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
 $as_echo_n "checking dependency style of $depcc... " >&6; }
-if test "${am_cv_CC_dependencies_compiler_type+set}" = set; then :
+if ${am_cv_CC_dependencies_compiler_type+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
@@ -6294,7 +6307,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for a sed that does not truncate output" >&5
 $as_echo_n "checking for a sed that does not truncate output... " >&6; }
-if test "${lt_cv_path_SED+set}" = set; then :
+if ${lt_cv_path_SED+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   # Loop through the user's path and test for sed and gsed.
@@ -6351,7 +6364,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
 $as_echo_n "checking for grep that handles long lines and -e... " >&6; }
-if test "${ac_cv_path_GREP+set}" = set; then :
+if ${ac_cv_path_GREP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -z "$GREP"; then
@@ -6400,7 +6413,7 @@
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_GREP"; then
-    as_fn_error "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_GREP=$GREP
@@ -6414,7 +6427,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
 $as_echo_n "checking for egrep... " >&6; }
-if test "${ac_cv_path_EGREP+set}" = set; then :
+if ${ac_cv_path_EGREP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
@@ -6466,7 +6479,7 @@
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_EGREP"; then
-    as_fn_error "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_EGREP=$EGREP
@@ -6526,7 +6539,7 @@
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for non-GNU ld" >&5
 $as_echo_n "checking for non-GNU ld... " >&6; }
 fi
-if test "${lt_cv_path_LD+set}" = set; then :
+if ${lt_cv_path_LD+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -z "$LD"; then
@@ -6563,10 +6576,10 @@
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 fi
-test -z "$LD" && as_fn_error "no acceptable ld found in \$PATH" "$LINENO" 5
+test -z "$LD" && as_fn_error $? "no acceptable ld found in \$PATH" "$LINENO" 5
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if the linker ($LD) is GNU ld" >&5
 $as_echo_n "checking if the linker ($LD) is GNU ld... " >&6; }
-if test "${lt_cv_prog_gnu_ld+set}" = set; then :
+if ${lt_cv_prog_gnu_ld+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   # I'd rather use --version here, but apparently some GNU lds only accept -v.
@@ -6586,7 +6599,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $LD option to reload object files" >&5
 $as_echo_n "checking for $LD option to reload object files... " >&6; }
-if test "${lt_cv_ld_reload_flag+set}" = set; then :
+if ${lt_cv_ld_reload_flag+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   lt_cv_ld_reload_flag='-r'
@@ -6611,7 +6624,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for BSD-compatible nm" >&5
 $as_echo_n "checking for BSD-compatible nm... " >&6; }
-if test "${lt_cv_path_NM+set}" = set; then :
+if ${lt_cv_path_NM+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$NM"; then
@@ -6668,7 +6681,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking how to recognise dependent libraries" >&5
 $as_echo_n "checking how to recognise dependent libraries... " >&6; }
-if test "${lt_cv_deplibs_check_method+set}" = set; then :
+if ${lt_cv_deplibs_check_method+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   lt_cv_file_magic_cmd='$MAGIC_CMD'
@@ -6885,7 +6898,7 @@
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 6888 "configure"' > conftest.$ac_ext
+  echo '#line 6901 "configure"' > conftest.$ac_ext
   if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
@@ -6972,7 +6985,7 @@
   CFLAGS="$CFLAGS -belf"
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the C compiler needs -belf" >&5
 $as_echo_n "checking whether the C compiler needs -belf... " >&6; }
-if test "${lt_cv_cc_needs_belf+set}" = set; then :
+if ${lt_cv_cc_needs_belf+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_ext=c
@@ -7019,7 +7032,7 @@
 set dummy ${ac_tool_prefix}dlltool; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_DLLTOOL+set}" = set; then :
+if ${ac_cv_prog_DLLTOOL+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$DLLTOOL"; then
@@ -7059,7 +7072,7 @@
 set dummy dlltool; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_DLLTOOL+set}" = set; then :
+if ${ac_cv_prog_ac_ct_DLLTOOL+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_DLLTOOL"; then
@@ -7111,7 +7124,7 @@
 set dummy ${ac_tool_prefix}as; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_AS+set}" = set; then :
+if ${ac_cv_prog_AS+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$AS"; then
@@ -7151,7 +7164,7 @@
 set dummy as; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_AS+set}" = set; then :
+if ${ac_cv_prog_ac_ct_AS+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_AS"; then
@@ -7203,7 +7216,7 @@
 set dummy ${ac_tool_prefix}objdump; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_OBJDUMP+set}" = set; then :
+if ${ac_cv_prog_OBJDUMP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$OBJDUMP"; then
@@ -7243,7 +7256,7 @@
 set dummy objdump; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_OBJDUMP+set}" = set; then :
+if ${ac_cv_prog_ac_ct_OBJDUMP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_OBJDUMP"; then
@@ -7309,7 +7322,7 @@
   CPP=
 fi
 if test -z "$CPP"; then
-  if test "${ac_cv_prog_CPP+set}" = set; then :
+  if ${ac_cv_prog_CPP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
       # Double quotes because CPP needs to be expanded
@@ -7339,7 +7352,7 @@
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
@@ -7355,11 +7368,11 @@
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
   break
 fi
@@ -7398,7 +7411,7 @@
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
@@ -7414,18 +7427,18 @@
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
 
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "C preprocessor \"$CPP\" fails sanity check
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
+See \`config.log' for more details" "$LINENO" 5; }
 fi
 
 ac_ext=c
@@ -7437,7 +7450,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ANSI C header files" >&5
 $as_echo_n "checking for ANSI C header files... " >&6; }
-if test "${ac_cv_header_stdc+set}" = set; then :
+if ${ac_cv_header_stdc+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -7554,8 +7567,7 @@
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -7568,7 +7580,7 @@
 for ac_header in dlfcn.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "dlfcn.h" "ac_cv_header_dlfcn_h" "$ac_includes_default"
-if test "x$ac_cv_header_dlfcn_h" = x""yes; then :
+if test "x$ac_cv_header_dlfcn_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_DLFCN_H 1
 _ACEOF
@@ -7583,7 +7595,7 @@
 # find the maximum length of command line arguments
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking the maximum length of command line arguments" >&5
 $as_echo_n "checking the maximum length of command line arguments... " >&6; }
-if test "${lt_cv_sys_max_cmd_len+set}" = set; then :
+if ${lt_cv_sys_max_cmd_len+:} false; then :
   $as_echo_n "(cached) " >&6
 else
     i=0
@@ -7686,7 +7698,7 @@
 # Check for command to grab the raw symbol name followed by C symbol from nm.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking command to parse $NM output from $compiler object" >&5
 $as_echo_n "checking command to parse $NM output from $compiler object... " >&6; }
-if test "${lt_cv_sys_global_symbol_pipe+set}" = set; then :
+if ${lt_cv_sys_global_symbol_pipe+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -7889,7 +7901,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for objdir" >&5
 $as_echo_n "checking for objdir... " >&6; }
-if test "${lt_cv_objdir+set}" = set; then :
+if ${lt_cv_objdir+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   rm -f .libs 2>/dev/null
@@ -7956,7 +7968,7 @@
 set dummy ${ac_tool_prefix}ar; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_AR+set}" = set; then :
+if ${ac_cv_prog_AR+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$AR"; then
@@ -7996,7 +8008,7 @@
 set dummy ar; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_AR+set}" = set; then :
+if ${ac_cv_prog_ac_ct_AR+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_AR"; then
@@ -8048,7 +8060,7 @@
 set dummy ${ac_tool_prefix}ranlib; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_RANLIB+set}" = set; then :
+if ${ac_cv_prog_RANLIB+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$RANLIB"; then
@@ -8088,7 +8100,7 @@
 set dummy ranlib; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then :
+if ${ac_cv_prog_ac_ct_RANLIB+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_RANLIB"; then
@@ -8140,7 +8152,7 @@
 set dummy ${ac_tool_prefix}strip; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_STRIP+set}" = set; then :
+if ${ac_cv_prog_STRIP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$STRIP"; then
@@ -8180,7 +8192,7 @@
 set dummy strip; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_STRIP+set}" = set; then :
+if ${ac_cv_prog_ac_ct_STRIP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_STRIP"; then
@@ -8282,7 +8294,7 @@
   if test "$file_magic_cmd" = '$MAGIC_CMD'; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ${ac_tool_prefix}file" >&5
 $as_echo_n "checking for ${ac_tool_prefix}file... " >&6; }
-if test "${lt_cv_path_MAGIC_CMD+set}" = set; then :
+if ${lt_cv_path_MAGIC_CMD+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   case $MAGIC_CMD in
@@ -8344,7 +8356,7 @@
   if test -n "$ac_tool_prefix"; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking for file" >&5
 $as_echo_n "checking for file... " >&6; }
-if test "${lt_cv_path_MAGIC_CMD+set}" = set; then :
+if ${lt_cv_path_MAGIC_CMD+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   case $MAGIC_CMD in
@@ -8504,7 +8516,7 @@
 #
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $compiler static flag $lt_prog_compiler_static works" >&5
 $as_echo_n "checking if $compiler static flag $lt_prog_compiler_static works... " >&6; }
-if test "${lt_prog_compiler_static_works+set}" = set; then :
+if ${lt_prog_compiler_static_works+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   lt_prog_compiler_static_works=no
@@ -8550,7 +8562,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $compiler supports -fno-rtti -fno-exceptions" >&5
 $as_echo_n "checking if $compiler supports -fno-rtti -fno-exceptions... " >&6; }
-if test "${lt_cv_prog_compiler_rtti_exceptions+set}" = set; then :
+if ${lt_cv_prog_compiler_rtti_exceptions+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   lt_cv_prog_compiler_rtti_exceptions=no
@@ -8566,11 +8578,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8569: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8581: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8573: \$? = $ac_status" >&5
+   echo "$as_me:8585: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
@@ -8812,7 +8824,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $compiler PIC flag $lt_prog_compiler_pic works" >&5
 $as_echo_n "checking if $compiler PIC flag $lt_prog_compiler_pic works... " >&6; }
-if test "${lt_prog_compiler_pic_works+set}" = set; then :
+if ${lt_prog_compiler_pic_works+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   lt_prog_compiler_pic_works=no
@@ -8828,11 +8840,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8831: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8843: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8835: \$? = $ac_status" >&5
+   echo "$as_me:8847: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
@@ -8871,7 +8883,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if $compiler supports -c -o file.$ac_objext" >&5
 $as_echo_n "checking if $compiler supports -c -o file.$ac_objext... " >&6; }
-if test "${lt_cv_prog_compiler_c_o+set}" = set; then :
+if ${lt_cv_prog_compiler_c_o+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   lt_cv_prog_compiler_c_o=no
@@ -8890,11 +8902,11 @@
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8893: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8905: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:8897: \$? = $ac_status" >&5
+   echo "$as_me:8909: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
@@ -10504,7 +10516,7 @@
   # if libdl is installed we need to link against it
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
 $as_echo_n "checking for dlopen in -ldl... " >&6; }
-if test "${ac_cv_lib_dl_dlopen+set}" = set; then :
+if ${ac_cv_lib_dl_dlopen+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10538,7 +10550,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
 $as_echo "$ac_cv_lib_dl_dlopen" >&6; }
-if test "x$ac_cv_lib_dl_dlopen" = x""yes; then :
+if test "x$ac_cv_lib_dl_dlopen" = xyes; then :
   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
 else
 
@@ -10552,12 +10564,12 @@
 
   *)
     ac_fn_c_check_func "$LINENO" "shl_load" "ac_cv_func_shl_load"
-if test "x$ac_cv_func_shl_load" = x""yes; then :
+if test "x$ac_cv_func_shl_load" = xyes; then :
   lt_cv_dlopen="shl_load"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for shl_load in -ldld" >&5
 $as_echo_n "checking for shl_load in -ldld... " >&6; }
-if test "${ac_cv_lib_dld_shl_load+set}" = set; then :
+if ${ac_cv_lib_dld_shl_load+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10591,16 +10603,16 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_shl_load" >&5
 $as_echo "$ac_cv_lib_dld_shl_load" >&6; }
-if test "x$ac_cv_lib_dld_shl_load" = x""yes; then :
+if test "x$ac_cv_lib_dld_shl_load" = xyes; then :
   lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"
 else
   ac_fn_c_check_func "$LINENO" "dlopen" "ac_cv_func_dlopen"
-if test "x$ac_cv_func_dlopen" = x""yes; then :
+if test "x$ac_cv_func_dlopen" = xyes; then :
   lt_cv_dlopen="dlopen"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
 $as_echo_n "checking for dlopen in -ldl... " >&6; }
-if test "${ac_cv_lib_dl_dlopen+set}" = set; then :
+if ${ac_cv_lib_dl_dlopen+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10634,12 +10646,12 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
 $as_echo "$ac_cv_lib_dl_dlopen" >&6; }
-if test "x$ac_cv_lib_dl_dlopen" = x""yes; then :
+if test "x$ac_cv_lib_dl_dlopen" = xyes; then :
   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlopen in -lsvld" >&5
 $as_echo_n "checking for dlopen in -lsvld... " >&6; }
-if test "${ac_cv_lib_svld_dlopen+set}" = set; then :
+if ${ac_cv_lib_svld_dlopen+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10673,12 +10685,12 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_svld_dlopen" >&5
 $as_echo "$ac_cv_lib_svld_dlopen" >&6; }
-if test "x$ac_cv_lib_svld_dlopen" = x""yes; then :
+if test "x$ac_cv_lib_svld_dlopen" = xyes; then :
   lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dld_link in -ldld" >&5
 $as_echo_n "checking for dld_link in -ldld... " >&6; }
-if test "${ac_cv_lib_dld_dld_link+set}" = set; then :
+if ${ac_cv_lib_dld_dld_link+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10712,7 +10724,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_dld_link" >&5
 $as_echo "$ac_cv_lib_dld_dld_link" >&6; }
-if test "x$ac_cv_lib_dld_dld_link" = x""yes; then :
+if test "x$ac_cv_lib_dld_dld_link" = xyes; then :
   lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"
 fi
 
@@ -10753,7 +10765,7 @@
 
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether a program can dlopen itself" >&5
 $as_echo_n "checking whether a program can dlopen itself... " >&6; }
-if test "${lt_cv_dlopen_self+set}" = set; then :
+if ${lt_cv_dlopen_self+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   	  if test "$cross_compiling" = yes; then :
@@ -10762,7 +10774,7 @@
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 10765 "configure"
+#line 10777 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
@@ -10851,7 +10863,7 @@
       LDFLAGS="$LDFLAGS $link_static_flag"
       { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether a statically linked program can dlopen itself" >&5
 $as_echo_n "checking whether a statically linked program can dlopen itself... " >&6; }
-if test "${lt_cv_dlopen_self_static+set}" = set; then :
+if ${lt_cv_dlopen_self_static+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   	  if test "$cross_compiling" = yes; then :
@@ -10860,7 +10872,7 @@
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<EOF
-#line 10863 "configure"
+#line 10875 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
@@ -11521,13 +11533,13 @@
     # Check whether tagname contains only valid characters
     case `$echo "X$tagname" | $Xsed -e 's:[-_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890,/]::g'` in
     "") ;;
-    *)  as_fn_error "invalid tag name: $tagname" "$LINENO" 5
+    *)  as_fn_error $? "invalid tag name: $tagname" "$LINENO" 5
 	;;
     esac
 
     if grep "^# ### BEGIN LIBTOOL TAG CONFIG: $tagname$" < "${ofile}" > /dev/null
     then
-      as_fn_error "tag name \"$tagname\" already exists" "$LINENO" 5
+      as_fn_error $? "tag name \"$tagname\" already exists" "$LINENO" 5
     fi
 
     # Update the list of available tags.
@@ -12033,7 +12045,7 @@
 	;;
 
       *)
-	as_fn_error "Unsupported tag name: $tagname" "$LINENO" 5
+	as_fn_error $? "Unsupported tag name: $tagname" "$LINENO" 5
 	;;
       esac
 
@@ -12051,7 +12063,7 @@
     chmod +x "$ofile"
   else
     rm -f "${ofile}T"
-    as_fn_error "unable to update list of available tagged configurations." "$LINENO" 5
+    as_fn_error $? "unable to update list of available tagged configurations." "$LINENO" 5
   fi
 fi
 
@@ -12080,7 +12092,7 @@
 set dummy perl; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_path_PERLBIN+set}" = set; then :
+if ${ac_cv_path_PERLBIN+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   case $PERLBIN in
@@ -12120,7 +12132,7 @@
 
 	if test "no$PERLBIN" = "no" ; then
 		if test $ol_enable_perl = yes ; then
-			as_fn_error "could not locate perl" "$LINENO" 5
+			as_fn_error $? "could not locate perl" "$LINENO" 5
 		fi
 
 	else
@@ -12148,7 +12160,7 @@
   CPP=
 fi
 if test -z "$CPP"; then
-  if test "${ac_cv_prog_CPP+set}" = set; then :
+  if ${ac_cv_prog_CPP+:} false; then :
   $as_echo_n "(cached) " >&6
 else
       # Double quotes because CPP needs to be expanded
@@ -12178,7 +12190,7 @@
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
@@ -12194,11 +12206,11 @@
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
   break
 fi
@@ -12237,7 +12249,7 @@
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
@@ -12253,18 +12265,18 @@
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
 
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "C preprocessor \"$CPP\" fails sanity check
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
+See \`config.log' for more details" "$LINENO" 5; }
 fi
 
 ac_ext=c
@@ -12275,7 +12287,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using MS Visual C++" >&5
 $as_echo_n "checking whether we are using MS Visual C++... " >&6; }
-if test "${ol_cv_msvc+set}" = set; then :
+if ${ol_cv_msvc+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -12291,7 +12303,7 @@
 else
   ol_cv_msvc=no
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ol_cv_msvc" >&5
 $as_echo "$ol_cv_msvc" >&6; }
@@ -12312,7 +12324,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for be_app in -lbe" >&5
 $as_echo_n "checking for be_app in -lbe... " >&6; }
-if test "${ac_cv_lib_be_be_app+set}" = set; then :
+if ${ac_cv_lib_be_be_app+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -12346,7 +12358,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_be_be_app" >&5
 $as_echo "$ac_cv_lib_be_be_app" >&6; }
-if test "x$ac_cv_lib_be_be_app" = x""yes; then :
+if test "x$ac_cv_lib_be_be_app" = xyes; then :
   LIBS="$LIBS -lbe -lroot -lnet"
 else
   :
@@ -12363,7 +12375,7 @@
 set dummy ${ac_tool_prefix}gcc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -12403,7 +12415,7 @@
 set dummy gcc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
+if ${ac_cv_prog_ac_ct_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_CC"; then
@@ -12456,7 +12468,7 @@
 set dummy ${ac_tool_prefix}cc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -12496,7 +12508,7 @@
 set dummy cc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -12555,7 +12567,7 @@
 set dummy $ac_tool_prefix$ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_CC+set}" = set; then :
+if ${ac_cv_prog_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -12599,7 +12611,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
+if ${ac_cv_prog_ac_ct_CC+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_CC"; then
@@ -12653,8 +12665,8 @@
 
 test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "no acceptable C compiler found in \$PATH
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "no acceptable C compiler found in \$PATH
+See \`config.log' for more details" "$LINENO" 5; }
 
 # Provide some information about the compiler.
 $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -12683,7 +12695,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler" >&5
 $as_echo_n "checking whether we are using the GNU C compiler... " >&6; }
-if test "${ac_cv_c_compiler_gnu+set}" = set; then :
+if ${ac_cv_c_compiler_gnu+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -12720,7 +12732,7 @@
 ac_save_CFLAGS=$CFLAGS
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
 $as_echo_n "checking whether $CC accepts -g... " >&6; }
-if test "${ac_cv_prog_cc_g+set}" = set; then :
+if ${ac_cv_prog_cc_g+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_save_c_werror_flag=$ac_c_werror_flag
@@ -12798,7 +12810,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89" >&5
 $as_echo_n "checking for $CC option to accept ISO C89... " >&6; }
-if test "${ac_cv_prog_cc_c89+set}" = set; then :
+if ${ac_cv_prog_cc_c89+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_cv_prog_cc_c89=no
@@ -12897,7 +12909,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
 $as_echo_n "checking dependency style of $depcc... " >&6; }
-if test "${am_cv_CC_dependencies_compiler_type+set}" = set; then :
+if ${am_cv_CC_dependencies_compiler_type+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
@@ -13003,7 +13015,7 @@
 
 
 if test "X${ac_cv_prog_cc_stdc}" = "Xno" ; then
-	as_fn_error "OpenLDAP requires compiler to support STDC constructs." "$LINENO" 5
+	as_fn_error $? "OpenLDAP requires compiler to support STDC constructs." "$LINENO" 5
 fi
 
 # test for make depend flag
@@ -13014,7 +13026,7 @@
 	if test -z "${MKDEP_FLAGS}"; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ${OL_MKDEP} depend flag" >&5
 $as_echo_n "checking for ${OL_MKDEP} depend flag... " >&6; }
-if test "${ol_cv_mkdep+set}" = set; then :
+if ${ol_cv_mkdep+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13064,7 +13076,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for afopen in -ls" >&5
 $as_echo_n "checking for afopen in -ls... " >&6; }
-if test "${ac_cv_lib_s_afopen+set}" = set; then :
+if ${ac_cv_lib_s_afopen+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -13098,7 +13110,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_s_afopen" >&5
 $as_echo "$ac_cv_lib_s_afopen" >&6; }
-if test "x$ac_cv_lib_s_afopen" = x""yes; then :
+if test "x$ac_cv_lib_s_afopen" = xyes; then :
 
 	AUTH_LIBS=-ls
 
@@ -13123,7 +13135,7 @@
 	for ac_header in ltdl.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "ltdl.h" "ac_cv_header_ltdl_h" "$ac_includes_default"
-if test "x$ac_cv_header_ltdl_h" = x""yes; then :
+if test "x$ac_cv_header_ltdl_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LTDL_H 1
 _ACEOF
@@ -13134,12 +13146,12 @@
 
 
 	if test $ac_cv_header_ltdl_h = no ; then
-		as_fn_error "could not locate libtool ltdl.h" "$LINENO" 5
+		as_fn_error $? "could not locate libtool ltdl.h" "$LINENO" 5
 	fi
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for lt_dlinit in -lltdl" >&5
 $as_echo_n "checking for lt_dlinit in -lltdl... " >&6; }
-if test "${ac_cv_lib_ltdl_lt_dlinit+set}" = set; then :
+if ${ac_cv_lib_ltdl_lt_dlinit+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -13173,7 +13185,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ltdl_lt_dlinit" >&5
 $as_echo "$ac_cv_lib_ltdl_lt_dlinit" >&6; }
-if test "x$ac_cv_lib_ltdl_lt_dlinit" = x""yes; then :
+if test "x$ac_cv_lib_ltdl_lt_dlinit" = xyes; then :
 
 		MODULES_LIBS=-lltdl
 
@@ -13184,7 +13196,7 @@
 
 
 	if test "$ac_cv_lib_ltdl_lt_dlinit" = no ; then
-		as_fn_error "could not locate libtool -lltdl" "$LINENO" 5
+		as_fn_error $? "could not locate libtool -lltdl" "$LINENO" 5
 	fi
 	ol_link_modules=yes
 	WITH_MODULES_ENABLED=yes
@@ -13211,7 +13223,7 @@
 # test for EBCDIC
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for EBCDIC" >&5
 $as_echo_n "checking for EBCDIC... " >&6; }
-if test "${ol_cv_cpp_ebcdic+set}" = set; then :
+if ${ol_cv_cpp_ebcdic+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13228,7 +13240,7 @@
 else
   ol_cv_cpp_ebcdic=no
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ol_cv_cpp_ebcdic" >&5
 $as_echo "$ol_cv_cpp_ebcdic" >&6; }
@@ -13240,7 +13252,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ANSI C header files" >&5
 $as_echo_n "checking for ANSI C header files... " >&6; }
-if test "${ol_cv_header_stdc+set}" = set; then :
+if ${ol_cv_header_stdc+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -13255,7 +13267,7 @@
 else
   ol_cv_header_stdc=no
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 if test $ol_cv_header_stdc = yes; then
   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
@@ -13344,7 +13356,7 @@
   as_ac_Header=`$as_echo "ac_cv_header_dirent_$ac_hdr" | $as_tr_sh`
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_hdr that defines DIR" >&5
 $as_echo_n "checking for $ac_hdr that defines DIR... " >&6; }
-if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval \${$as_ac_Header+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -13371,8 +13383,7 @@
 eval ac_res=\$$as_ac_Header
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_hdr" | $as_tr_cpp` 1
 _ACEOF
@@ -13385,7 +13396,7 @@
 if test $ac_header_dirent = dirent.h; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing opendir" >&5
 $as_echo_n "checking for library containing opendir... " >&6; }
-if test "${ac_cv_search_opendir+set}" = set; then :
+if ${ac_cv_search_opendir+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -13419,11 +13430,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if test "${ac_cv_search_opendir+set}" = set; then :
+  if ${ac_cv_search_opendir+:} false; then :
   break
 fi
 done
-if test "${ac_cv_search_opendir+set}" = set; then :
+if ${ac_cv_search_opendir+:} false; then :
 
 else
   ac_cv_search_opendir=no
@@ -13442,7 +13453,7 @@
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing opendir" >&5
 $as_echo_n "checking for library containing opendir... " >&6; }
-if test "${ac_cv_search_opendir+set}" = set; then :
+if ${ac_cv_search_opendir+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -13476,11 +13487,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if test "${ac_cv_search_opendir+set}" = set; then :
+  if ${ac_cv_search_opendir+:} false; then :
   break
 fi
 done
-if test "${ac_cv_search_opendir+set}" = set; then :
+if ${ac_cv_search_opendir+:} false; then :
 
 else
   ac_cv_search_opendir=no
@@ -13500,7 +13511,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for sys/wait.h that is POSIX.1 compatible" >&5
 $as_echo_n "checking for sys/wait.h that is POSIX.1 compatible... " >&6; }
-if test "${ac_cv_header_sys_wait_h+set}" = set; then :
+if ${ac_cv_header_sys_wait_h+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -13541,7 +13552,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether termios.h defines TIOCGWINSZ" >&5
 $as_echo_n "checking whether termios.h defines TIOCGWINSZ... " >&6; }
-if test "${ac_cv_sys_tiocgwinsz_in_termios_h+set}" = set; then :
+if ${ac_cv_sys_tiocgwinsz_in_termios_h+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -13568,7 +13579,7 @@
 if test $ac_cv_sys_tiocgwinsz_in_termios_h != yes; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether sys/ioctl.h defines TIOCGWINSZ" >&5
 $as_echo_n "checking whether sys/ioctl.h defines TIOCGWINSZ... " >&6; }
-if test "${ac_cv_sys_tiocgwinsz_in_sys_ioctl_h+set}" = set; then :
+if ${ac_cv_sys_tiocgwinsz_in_sys_ioctl_h+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -13652,8 +13663,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -13671,8 +13681,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -13689,7 +13698,7 @@
 #include <netinet/in.h>
 
 "
-if test "x$ac_cv_header_resolv_h" = x""yes; then :
+if test "x$ac_cv_header_resolv_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_RESOLV_H 1
 _ACEOF
@@ -13705,7 +13714,7 @@
 #include <netinet/in.h>
 
 "
-if test "x$ac_cv_header_netinet_tcp_h" = x""yes; then :
+if test "x$ac_cv_header_netinet_tcp_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_NETINET_TCP_H 1
 _ACEOF
@@ -13723,7 +13732,7 @@
 #endif
 
 "
-if test "x$ac_cv_header_sys_ucred_h" = x""yes; then :
+if test "x$ac_cv_header_sys_ucred_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SYS_UCRED_H 1
 _ACEOF
@@ -13738,8 +13747,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -13751,7 +13759,7 @@
 if test $ac_cv_func_sigaction = no && test $ac_cv_func_sigaction = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for sigset in -lV3" >&5
 $as_echo_n "checking for sigset in -lV3... " >&6; }
-if test "${ac_cv_lib_V3_sigset+set}" = set; then :
+if ${ac_cv_lib_V3_sigset+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -13785,7 +13793,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_V3_sigset" >&5
 $as_echo "$ac_cv_lib_V3_sigset" >&6; }
-if test "x$ac_cv_lib_V3_sigset" = x""yes; then :
+if test "x$ac_cv_lib_V3_sigset" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBV3 1
 _ACEOF
@@ -13803,7 +13811,7 @@
 if test "$ac_cv_header_winsock_h" = yes; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for winsock" >&5
 $as_echo_n "checking for winsock... " >&6; }
-if test "${ol_cv_winsock+set}" = set; then :
+if ${ol_cv_winsock+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13868,13 +13876,13 @@
 
 
 ac_fn_c_check_func "$LINENO" "socket" "ac_cv_func_socket"
-if test "x$ac_cv_func_socket" = x""yes; then :
+if test "x$ac_cv_func_socket" = xyes; then :
   :
 else
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lsocket" >&5
 $as_echo_n "checking for main in -lsocket... " >&6; }
-if test "${ac_cv_lib_socket_main+set}" = set; then :
+if ${ac_cv_lib_socket_main+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -13902,7 +13910,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_socket_main" >&5
 $as_echo "$ac_cv_lib_socket_main" >&6; }
-if test "x$ac_cv_lib_socket_main" = x""yes; then :
+if test "x$ac_cv_lib_socket_main" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBSOCKET 1
 _ACEOF
@@ -13913,7 +13921,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lnet" >&5
 $as_echo_n "checking for main in -lnet... " >&6; }
-if test "${ac_cv_lib_net_main+set}" = set; then :
+if ${ac_cv_lib_net_main+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -13941,7 +13949,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_net_main" >&5
 $as_echo "$ac_cv_lib_net_main" >&6; }
-if test "x$ac_cv_lib_net_main" = x""yes; then :
+if test "x$ac_cv_lib_net_main" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBNET 1
 _ACEOF
@@ -13952,7 +13960,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lnsl_s" >&5
 $as_echo_n "checking for main in -lnsl_s... " >&6; }
-if test "${ac_cv_lib_nsl_s_main+set}" = set; then :
+if ${ac_cv_lib_nsl_s_main+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -13980,7 +13988,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nsl_s_main" >&5
 $as_echo "$ac_cv_lib_nsl_s_main" >&6; }
-if test "x$ac_cv_lib_nsl_s_main" = x""yes; then :
+if test "x$ac_cv_lib_nsl_s_main" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBNSL_S 1
 _ACEOF
@@ -13991,7 +13999,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lnsl" >&5
 $as_echo_n "checking for main in -lnsl... " >&6; }
-if test "${ac_cv_lib_nsl_main+set}" = set; then :
+if ${ac_cv_lib_nsl_main+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14019,7 +14027,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nsl_main" >&5
 $as_echo "$ac_cv_lib_nsl_main" >&6; }
-if test "x$ac_cv_lib_nsl_main" = x""yes; then :
+if test "x$ac_cv_lib_nsl_main" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBNSL 1
 _ACEOF
@@ -14030,7 +14038,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for socket in -linet" >&5
 $as_echo_n "checking for socket in -linet... " >&6; }
-if test "${ac_cv_lib_inet_socket+set}" = set; then :
+if ${ac_cv_lib_inet_socket+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14064,7 +14072,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_inet_socket" >&5
 $as_echo "$ac_cv_lib_inet_socket" >&6; }
-if test "x$ac_cv_lib_inet_socket" = x""yes; then :
+if test "x$ac_cv_lib_inet_socket" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBINET 1
 _ACEOF
@@ -14075,7 +14083,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -lgen" >&5
 $as_echo_n "checking for main in -lgen... " >&6; }
-if test "${ac_cv_lib_gen_main+set}" = set; then :
+if ${ac_cv_lib_gen_main+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14103,7 +14111,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gen_main" >&5
 $as_echo "$ac_cv_lib_gen_main" >&6; }
-if test "x$ac_cv_lib_gen_main" = x""yes; then :
+if test "x$ac_cv_lib_gen_main" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBGEN 1
 _ACEOF
@@ -14117,10 +14125,10 @@
 
 
 ac_fn_c_check_func "$LINENO" "select" "ac_cv_func_select"
-if test "x$ac_cv_func_select" = x""yes; then :
+if test "x$ac_cv_func_select" = xyes; then :
   :
 else
-  as_fn_error "select() required." "$LINENO" 5
+  as_fn_error $? "select() required." "$LINENO" 5
 fi
 
 
@@ -14129,8 +14137,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -14141,7 +14148,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking types of arguments for select" >&5
 $as_echo_n "checking types of arguments for select... " >&6; }
-if test "${ac_cv_func_select_args+set}" = set; then :
+if ${ac_cv_func_select_args+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   for ac_arg234 in 'fd_set *' 'int *' 'void *'; do
@@ -14175,7 +14182,7 @@
  done
 done
 # Provide a safe default value.
-: ${ac_cv_func_select_args='int,int *,struct timeval *'}
+: "${ac_cv_func_select_args=int,int *,struct timeval *}"
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_select_args" >&5
@@ -14208,8 +14215,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -14222,8 +14228,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -14238,8 +14243,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -14283,8 +14287,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -14328,7 +14331,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking declaration of sys_errlist" >&5
 $as_echo_n "checking declaration of sys_errlist... " >&6; }
-if test "${ol_cv_dcl_sys_errlist+set}" = set; then :
+if ${ol_cv_dcl_sys_errlist+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14368,7 +14371,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking existence of sys_errlist" >&5
 $as_echo_n "checking existence of sys_errlist... " >&6; }
-if test "${ol_cv_have_sys_errlist+set}" = set; then :
+if ${ol_cv_have_sys_errlist+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14403,8 +14406,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -14416,7 +14418,7 @@
 if test "${ac_cv_func_strerror_r}" = yes ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking non-posix strerror_r" >&5
 $as_echo_n "checking non-posix strerror_r... " >&6; }
-if test "${ol_cv_nonposix_strerror_r+set}" = set; then :
+if ${ol_cv_nonposix_strerror_r+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14492,7 +14494,7 @@
 elif test "${ac_cv_func_strerror}" = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking declaration of sys_errlist" >&5
 $as_echo_n "checking declaration of sys_errlist... " >&6; }
-if test "${ol_cv_dcl_sys_errlist+set}" = set; then :
+if ${ol_cv_dcl_sys_errlist+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14532,7 +14534,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking existence of sys_errlist" >&5
 $as_echo_n "checking existence of sys_errlist... " >&6; }
-if test "${ol_cv_have_sys_errlist+set}" = set; then :
+if ${ol_cv_have_sys_errlist+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14575,7 +14577,7 @@
 #endif
 
 "
-if test "x$ac_cv_header_regex_h" = x""yes; then :
+if test "x$ac_cv_header_regex_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_REGEX_H 1
 _ACEOF
@@ -14586,11 +14588,11 @@
 
 
 if test "$ac_cv_header_regex_h" != yes ; then
-	as_fn_error "POSIX regex.h required." "$LINENO" 5
+	as_fn_error $? "POSIX regex.h required." "$LINENO" 5
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing regfree" >&5
 $as_echo_n "checking for library containing regfree... " >&6; }
-if test "${ac_cv_search_regfree+set}" = set; then :
+if ${ac_cv_search_regfree+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14624,11 +14626,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if test "${ac_cv_search_regfree+set}" = set; then :
+  if ${ac_cv_search_regfree+:} false; then :
   break
 fi
 done
-if test "${ac_cv_search_regfree+set}" = set; then :
+if ${ac_cv_search_regfree+:} false; then :
 
 else
   ac_cv_search_regfree=no
@@ -14643,14 +14645,14 @@
   test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
   :
 else
-  as_fn_error "POSIX regex required." "$LINENO" 5
+  as_fn_error $? "POSIX regex required." "$LINENO" 5
 fi
 
 
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for compatible POSIX regex" >&5
 $as_echo_n "checking for compatible POSIX regex... " >&6; }
-if test "${ol_cv_c_posix_regex+set}" = set; then :
+if ${ol_cv_c_posix_regex+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14697,7 +14699,7 @@
 $as_echo "$ol_cv_c_posix_regex" >&6; }
 
 if test "$ol_cv_c_posix_regex" = no ; then
-	as_fn_error "broken POSIX regex!" "$LINENO" 5
+	as_fn_error $? "broken POSIX regex!" "$LINENO" 5
 fi
 
 
@@ -14705,7 +14707,7 @@
 for ac_header in sys/uuid.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "sys/uuid.h" "ac_cv_header_sys_uuid_h" "$ac_includes_default"
-if test "x$ac_cv_header_sys_uuid_h" = x""yes; then :
+if test "x$ac_cv_header_sys_uuid_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SYS_UUID_H 1
 _ACEOF
@@ -14718,7 +14720,7 @@
 	save_LIBS="$LIBS"
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing uuid_to_str" >&5
 $as_echo_n "checking for library containing uuid_to_str... " >&6; }
-if test "${ac_cv_search_uuid_to_str+set}" = set; then :
+if ${ac_cv_search_uuid_to_str+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14752,11 +14754,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if test "${ac_cv_search_uuid_to_str+set}" = set; then :
+  if ${ac_cv_search_uuid_to_str+:} false; then :
   break
 fi
 done
-if test "${ac_cv_search_uuid_to_str+set}" = set; then :
+if ${ac_cv_search_uuid_to_str+:} false; then :
 
 else
   ac_cv_search_uuid_to_str=no
@@ -14776,7 +14778,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing uuid_create" >&5
 $as_echo_n "checking for library containing uuid_create... " >&6; }
-if test "${ac_cv_search_uuid_create+set}" = set; then :
+if ${ac_cv_search_uuid_create+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14810,11 +14812,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if test "${ac_cv_search_uuid_create+set}" = set; then :
+  if ${ac_cv_search_uuid_create+:} false; then :
   break
 fi
 done
-if test "${ac_cv_search_uuid_create+set}" = set; then :
+if ${ac_cv_search_uuid_create+:} false; then :
 
 else
   ac_cv_search_uuid_create=no
@@ -14848,7 +14850,7 @@
 	for ac_header in uuid/uuid.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "uuid/uuid.h" "ac_cv_header_uuid_uuid_h" "$ac_includes_default"
-if test "x$ac_cv_header_uuid_uuid_h" = x""yes; then :
+if test "x$ac_cv_header_uuid_uuid_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_UUID_UUID_H 1
 _ACEOF
@@ -14861,7 +14863,7 @@
 		save_LIBS="$LIBS"
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing uuid_generate" >&5
 $as_echo_n "checking for library containing uuid_generate... " >&6; }
-if test "${ac_cv_search_uuid_generate+set}" = set; then :
+if ${ac_cv_search_uuid_generate+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14895,11 +14897,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if test "${ac_cv_search_uuid_generate+set}" = set; then :
+  if ${ac_cv_search_uuid_generate+:} false; then :
   break
 fi
 done
-if test "${ac_cv_search_uuid_generate+set}" = set; then :
+if ${ac_cv_search_uuid_generate+:} false; then :
 
 else
   ac_cv_search_uuid_generate=no
@@ -14919,7 +14921,7 @@
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing uuid_unparse_lower" >&5
 $as_echo_n "checking for library containing uuid_unparse_lower... " >&6; }
-if test "${ac_cv_search_uuid_unparse_lower+set}" = set; then :
+if ${ac_cv_search_uuid_unparse_lower+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14953,11 +14955,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if test "${ac_cv_search_uuid_unparse_lower+set}" = set; then :
+  if ${ac_cv_search_uuid_unparse_lower+:} false; then :
   break
 fi
 done
-if test "${ac_cv_search_uuid_unparse_lower+set}" = set; then :
+if ${ac_cv_search_uuid_unparse_lower+:} false; then :
 
 else
   ac_cv_search_uuid_unparse_lower=no
@@ -15029,7 +15031,7 @@
 if test $ol_cv_lib_resolver = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for resolver link (default)" >&5
 $as_echo_n "checking for resolver link (default)... " >&6; }
-if test "${ol_cv_resolver_none+set}" = set; then :
+if ${ol_cv_resolver_none+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -15110,7 +15112,7 @@
 if test $ol_cv_lib_resolver = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for resolver link (-lresolv)" >&5
 $as_echo_n "checking for resolver link (-lresolv)... " >&6; }
-if test "${ol_cv_resolver_resolv+set}" = set; then :
+if ${ol_cv_resolver_resolv+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -15191,7 +15193,7 @@
 if test $ol_cv_lib_resolver = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for resolver link (-lbind)" >&5
 $as_echo_n "checking for resolver link (-lbind)... " >&6; }
-if test "${ol_cv_resolver_bind+set}" = set; then :
+if ${ol_cv_resolver_bind+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -15288,7 +15290,7 @@
 
 if test "$ol_enable_dnssrv" = yes || test "$ol_enable_dnssrv" = mod ; then
 	if test "$ol_link_dnssrv" = no ; then
-		as_fn_error "DNSSRV requires res_query()" "$LINENO" 5
+		as_fn_error $? "DNSSRV requires res_query()" "$LINENO" 5
 	fi
 else
 	ol_enable_dnssrv=no
@@ -15298,8 +15300,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -15312,8 +15313,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -15325,12 +15325,12 @@
 ol_link_ipv6=no
 if test $ac_cv_func_getaddrinfo = no || test $ac_cv_func_inet_ntop = no ; then
 	if test $ol_enable_ipv6 = yes ; then
-		as_fn_error "IPv6 support requires getaddrinfo() and inet_ntop()" "$LINENO" 5
+		as_fn_error $? "IPv6 support requires getaddrinfo() and inet_ntop()" "$LINENO" 5
 	fi
 elif test $ol_enable_ipv6 != no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking INET6_ADDRSTRLEN" >&5
 $as_echo_n "checking INET6_ADDRSTRLEN... " >&6; }
-if test "${ol_cv_inet6_addrstrlen+set}" = set; then :
+if ${ol_cv_inet6_addrstrlen+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -15358,7 +15358,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking struct sockaddr_storage" >&5
 $as_echo_n "checking struct sockaddr_storage... " >&6; }
-if test "${ol_cv_struct_sockaddr_storage+set}" = set; then :
+if ${ol_cv_struct_sockaddr_storage+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -15393,10 +15393,10 @@
 		ol_link_ipv6=yes
 	elif test $ol_enable_ipv6 = yes &&
 	     test $ol_cv_inet6_addrstrlen = no ; then
-		as_fn_error "IPv6 support requires INET6_ADDRSTRLEN" "$LINENO" 5
+		as_fn_error $? "IPv6 support requires INET6_ADDRSTRLEN" "$LINENO" 5
 	elif test $ol_enable_ipv6 = yes &&
 	     test $ol_cv_struct_sockaddr_storage = no ; then
-		as_fn_error "IPv6 support requires struct sockaddr_storage" "$LINENO" 5
+		as_fn_error $? "IPv6 support requires struct sockaddr_storage" "$LINENO" 5
 	fi
 fi
 
@@ -15405,8 +15405,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -15419,7 +15418,7 @@
 	if test $ol_enable_local = auto ; then
 		ol_enable_local=$ac_cv_header_sys_un_h
 	elif test $ac_cv_header_sys_un_h = no ; then
-		as_fn_error "AF_LOCAL domain support requires sys/un.h" "$LINENO" 5
+		as_fn_error $? "AF_LOCAL domain support requires sys/un.h" "$LINENO" 5
 	fi
 fi
 
@@ -15433,7 +15432,7 @@
 	for ac_header in openssl/ssl.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "openssl/ssl.h" "ac_cv_header_openssl_ssl_h" "$ac_includes_default"
-if test "x$ac_cv_header_openssl_ssl_h" = x""yes; then :
+if test "x$ac_cv_header_openssl_ssl_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_OPENSSL_SSL_H 1
 _ACEOF
@@ -15444,9 +15443,9 @@
 
 
 	if test $ac_cv_header_openssl_ssl_h = yes ; then
-		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SSL_library_init in -lssl" >&5
-$as_echo_n "checking for SSL_library_init in -lssl... " >&6; }
-if test "${ac_cv_lib_ssl_SSL_library_init+set}" = set; then :
+		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for sunw_SSL_library_init in -lssl" >&5
+$as_echo_n "checking for sunw_SSL_library_init in -lssl... " >&6; }
+if ${ac_cv_lib_ssl_sunw_SSL_library_init+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -15460,27 +15459,27 @@
 #ifdef __cplusplus
 extern "C"
 #endif
-char SSL_library_init ();
+char sunw_SSL_library_init ();
 int
 main ()
 {
-return SSL_library_init ();
+return sunw_SSL_library_init ();
   ;
   return 0;
 }
 _ACEOF
 if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_ssl_SSL_library_init=yes
+  ac_cv_lib_ssl_sunw_SSL_library_init=yes
 else
-  ac_cv_lib_ssl_SSL_library_init=no
+  ac_cv_lib_ssl_sunw_SSL_library_init=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ssl_SSL_library_init" >&5
-$as_echo "$ac_cv_lib_ssl_SSL_library_init" >&6; }
-if test "x$ac_cv_lib_ssl_SSL_library_init" = x""yes; then :
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ssl_sunw_SSL_library_init" >&5
+$as_echo "$ac_cv_lib_ssl_sunw_SSL_library_init" >&6; }
+if test "x$ac_cv_lib_ssl_sunw_SSL_library_init" = xyes; then :
   have_openssl=yes
 			need_rsaref=no
 else
@@ -15489,9 +15488,9 @@
 
 
 		if test $have_openssl = no ; then
-			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ssl3_accept in -lssl" >&5
-$as_echo_n "checking for ssl3_accept in -lssl... " >&6; }
-if test "${ac_cv_lib_ssl_ssl3_accept+set}" = set; then :
+			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for sunw_ssl3_accept in -lssl" >&5
+$as_echo_n "checking for sunw_ssl3_accept in -lssl... " >&6; }
+if ${ac_cv_lib_ssl_sunw_ssl3_accept+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -15505,27 +15504,27 @@
 #ifdef __cplusplus
 extern "C"
 #endif
-char ssl3_accept ();
+char sunw_ssl3_accept ();
 int
 main ()
 {
-return ssl3_accept ();
+return sunw_ssl3_accept ();
   ;
   return 0;
 }
 _ACEOF
 if ac_fn_c_try_link "$LINENO"; then :
-  ac_cv_lib_ssl_ssl3_accept=yes
+  ac_cv_lib_ssl_sunw_ssl3_accept=yes
 else
-  ac_cv_lib_ssl_ssl3_accept=no
+  ac_cv_lib_ssl_sunw_ssl3_accept=no
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ssl_ssl3_accept" >&5
-$as_echo "$ac_cv_lib_ssl_ssl3_accept" >&6; }
-if test "x$ac_cv_lib_ssl_ssl3_accept" = x""yes; then :
+{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ssl_sunw_ssl3_accept" >&5
+$as_echo "$ac_cv_lib_ssl_sunw_ssl3_accept" >&6; }
+if test "x$ac_cv_lib_ssl_sunw_ssl3_accept" = xyes; then :
   have_openssl=yes
 				need_rsaref=yes
 else
@@ -15554,7 +15553,7 @@
 
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking OpenSSL library version (CRL checking capability)" >&5
 $as_echo_n "checking OpenSSL library version (CRL checking capability)... " >&6; }
-if test "${ol_cv_ssl_crl_compat+set}" = set; then :
+if ${ol_cv_ssl_crl_compat+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -15597,7 +15596,7 @@
 		for ac_header in gnutls/gnutls.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "gnutls/gnutls.h" "ac_cv_header_gnutls_gnutls_h" "$ac_includes_default"
-if test "x$ac_cv_header_gnutls_gnutls_h" = x""yes; then :
+if test "x$ac_cv_header_gnutls_gnutls_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GNUTLS_GNUTLS_H 1
 _ACEOF
@@ -15610,7 +15609,7 @@
 		if test $ac_cv_header_gnutls_gnutls_h = yes ; then
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for gnutls_init in -lgnutls" >&5
 $as_echo_n "checking for gnutls_init in -lgnutls... " >&6; }
-if test "${ac_cv_lib_gnutls_gnutls_init+set}" = set; then :
+if ${ac_cv_lib_gnutls_gnutls_init+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -15644,7 +15643,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gnutls_gnutls_init" >&5
 $as_echo "$ac_cv_lib_gnutls_gnutls_init" >&6; }
-if test "x$ac_cv_lib_gnutls_gnutls_init" = x""yes; then :
+if test "x$ac_cv_lib_gnutls_gnutls_init" = xyes; then :
   have_gnutls=yes
 else
   have_gnutls=no
@@ -15671,7 +15670,7 @@
 		for ac_header in nssutil.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "nssutil.h" "ac_cv_header_nssutil_h" "$ac_includes_default"
-if test "x$ac_cv_header_nssutil_h" = x""yes; then :
+if test "x$ac_cv_header_nssutil_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_NSSUTIL_H 1
 _ACEOF
@@ -15683,7 +15682,7 @@
 		if test "$ac_cv_header_nssutil_h" = yes ; then
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for NSS_Initialize in -lnss3" >&5
 $as_echo_n "checking for NSS_Initialize in -lnss3... " >&6; }
-if test "${ac_cv_lib_nss3_NSS_Initialize+set}" = set; then :
+if ${ac_cv_lib_nss3_NSS_Initialize+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -15717,7 +15716,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nss3_NSS_Initialize" >&5
 $as_echo "$ac_cv_lib_nss3_NSS_Initialize" >&6; }
-if test "x$ac_cv_lib_nss3_NSS_Initialize" = x""yes; then :
+if test "x$ac_cv_lib_nss3_NSS_Initialize" = xyes; then :
    have_moznss=yes
 else
    have_moznss=no
@@ -15733,7 +15732,7 @@
 
 			TLS_LIBS="-lssl3 -lsmime3 -lnss3 -lnssutil3 -lplds4 -lplc4 -lnspr4"
 		else
-			as_fn_error "MozNSS not found - please specify the location to the NSPR and NSS header files in CPPFLAGS and the location to the NSPR and NSS libraries in LDFLAGS (if not in the system location)" "$LINENO" 5
+			as_fn_error $? "MozNSS not found - please specify the location to the NSPR and NSS header files in CPPFLAGS and the location to the NSPR and NSS libraries in LDFLAGS (if not in the system location)" "$LINENO" 5
 		fi
 	fi
 fi
@@ -15750,7 +15749,7 @@
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: TLS data protection not supported!" >&5
 $as_echo "$as_me: WARNING: TLS data protection not supported!" >&2;}
 elif test $ol_with_tls != no ; then
-	as_fn_error "Could not locate TLS/SSL package" "$LINENO" 5
+	as_fn_error $? "Could not locate TLS/SSL package" "$LINENO" 5
 else
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: TLS data protection not supported!" >&5
 $as_echo "$as_me: WARNING: TLS data protection not supported!" >&2;}
@@ -15758,7 +15757,7 @@
 
 if test $ol_enable_lmpasswd != no; then
 	if test $ol_link_tls != yes ; then
-		as_fn_error "LAN Manager passwords require OpenSSL" "$LINENO" 5
+		as_fn_error $? "LAN Manager passwords require OpenSSL" "$LINENO" 5
 	fi
 
 
@@ -15772,7 +15771,7 @@
 
 
 	ac_fn_c_check_func "$LINENO" "_beginthread" "ac_cv_func__beginthread"
-if test "x$ac_cv_func__beginthread" = x""yes; then :
+if test "x$ac_cv_func__beginthread" = xyes; then :
 
 fi
 
@@ -15799,7 +15798,7 @@
 	fi
 
 	if test $ol_with_threads = nt ; then
-		as_fn_error "could not locate NT Threads" "$LINENO" 5
+		as_fn_error $? "could not locate NT Threads" "$LINENO" 5
 	fi
 	;;
 esac
@@ -15809,7 +15808,7 @@
 	for ac_header in pthread.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "pthread.h" "ac_cv_header_pthread_h" "$ac_includes_default"
-if test "x$ac_cv_header_pthread_h" = x""yes; then :
+if test "x$ac_cv_header_pthread_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_PTHREAD_H 1
 _ACEOF
@@ -15822,7 +15821,7 @@
 	if test $ac_cv_header_pthread_h = yes ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking POSIX thread version" >&5
 $as_echo_n "checking POSIX thread version... " >&6; }
-if test "${ol_cv_pthread_version+set}" = set; then :
+if ${ol_cv_pthread_version+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -15920,7 +15919,7 @@
 _ACEOF
 
 		else
-			as_fn_error "unknown pthread version" "$LINENO" 5
+			as_fn_error $? "unknown pthread version" "$LINENO" 5
 		fi
 
 		# consider threads found
@@ -15929,7 +15928,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for LinuxThreads pthread.h" >&5
 $as_echo_n "checking for LinuxThreads pthread.h... " >&6; }
-if test "${ol_cv_header_linux_threads+set}" = set; then :
+if ${ol_cv_header_linux_threads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -15957,7 +15956,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for GNU Pth pthread.h" >&5
 $as_echo_n "checking for GNU Pth pthread.h... " >&6; }
-if test "${ol_cv_header_gnu_pth_pthread_h+set}" = set; then :
+if ${ol_cv_header_gnu_pth_pthread_h+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -15986,7 +15985,7 @@
 			for ac_header in sched.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "sched.h" "ac_cv_header_sched_h" "$ac_includes_default"
-if test "x$ac_cv_header_sched_h" = x""yes; then :
+if test "x$ac_cv_header_sched_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SCHED_H 1
 _ACEOF
@@ -16000,7 +15999,7 @@
 
 				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_create in default libraries" >&5
 $as_echo_n "checking for pthread_create in default libraries... " >&6; }
-if test "${ol_cv_pthread_create+set}" = set; then :
+if ${ol_cv_pthread_create+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -16181,7 +16180,7 @@
 	# try -kthread
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -kthread" >&5
 $as_echo_n "checking for pthread link with -kthread... " >&6; }
-if test "${ol_cv_pthread_kthread+set}" = set; then :
+if ${ol_cv_pthread_kthread+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -16371,7 +16370,7 @@
 	# try -pthread
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -pthread" >&5
 $as_echo_n "checking for pthread link with -pthread... " >&6; }
-if test "${ol_cv_pthread_pthread+set}" = set; then :
+if ${ol_cv_pthread_pthread+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -16561,7 +16560,7 @@
 	# try -pthreads
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -pthreads" >&5
 $as_echo_n "checking for pthread link with -pthreads... " >&6; }
-if test "${ol_cv_pthread_pthreads+set}" = set; then :
+if ${ol_cv_pthread_pthreads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -16751,7 +16750,7 @@
 	# try -mthreads
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -mthreads" >&5
 $as_echo_n "checking for pthread link with -mthreads... " >&6; }
-if test "${ol_cv_pthread_mthreads+set}" = set; then :
+if ${ol_cv_pthread_mthreads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -16941,7 +16940,7 @@
 	# try -thread
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -thread" >&5
 $as_echo_n "checking for pthread link with -thread... " >&6; }
-if test "${ol_cv_pthread_thread+set}" = set; then :
+if ${ol_cv_pthread_thread+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -17132,7 +17131,7 @@
 	# try -lpthread -lmach -lexc -lc_r
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthread -lmach -lexc -lc_r" >&5
 $as_echo_n "checking for pthread link with -lpthread -lmach -lexc -lc_r... " >&6; }
-if test "${ol_cv_pthread_lpthread_lmach_lexc_lc_r+set}" = set; then :
+if ${ol_cv_pthread_lpthread_lmach_lexc_lc_r+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -17322,7 +17321,7 @@
 	# try -lpthread -lmach -lexc
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthread -lmach -lexc" >&5
 $as_echo_n "checking for pthread link with -lpthread -lmach -lexc... " >&6; }
-if test "${ol_cv_pthread_lpthread_lmach_lexc+set}" = set; then :
+if ${ol_cv_pthread_lpthread_lmach_lexc+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -17513,7 +17512,7 @@
 	# try -lpthread -Wl,-woff,85
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthread -Wl,-woff,85" >&5
 $as_echo_n "checking for pthread link with -lpthread -Wl,-woff,85... " >&6; }
-if test "${ol_cv_pthread_lib_lpthread_woff+set}" = set; then :
+if ${ol_cv_pthread_lib_lpthread_woff+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -17704,7 +17703,7 @@
 	# try -lpthread
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthread" >&5
 $as_echo_n "checking for pthread link with -lpthread... " >&6; }
-if test "${ol_cv_pthread_lpthread+set}" = set; then :
+if ${ol_cv_pthread_lpthread+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -17894,7 +17893,7 @@
 	# try -lc_r
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lc_r" >&5
 $as_echo_n "checking for pthread link with -lc_r... " >&6; }
-if test "${ol_cv_pthread_lc_r+set}" = set; then :
+if ${ol_cv_pthread_lc_r+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -18085,7 +18084,7 @@
 	# try -threads
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -threads" >&5
 $as_echo_n "checking for pthread link with -threads... " >&6; }
-if test "${ol_cv_pthread_threads+set}" = set; then :
+if ${ol_cv_pthread_threads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -18276,7 +18275,7 @@
 	# try -lpthreads -lmach -lexc -lc_r
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthreads -lmach -lexc -lc_r" >&5
 $as_echo_n "checking for pthread link with -lpthreads -lmach -lexc -lc_r... " >&6; }
-if test "${ol_cv_pthread_lpthreads_lmach_lexc_lc_r+set}" = set; then :
+if ${ol_cv_pthread_lpthreads_lmach_lexc_lc_r+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -18466,7 +18465,7 @@
 	# try -lpthreads -lmach -lexc
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthreads -lmach -lexc" >&5
 $as_echo_n "checking for pthread link with -lpthreads -lmach -lexc... " >&6; }
-if test "${ol_cv_pthread_lpthreads_lmach_lexc+set}" = set; then :
+if ${ol_cv_pthread_lpthreads_lmach_lexc+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -18656,7 +18655,7 @@
 	# try -lpthreads -lexc
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthreads -lexc" >&5
 $as_echo_n "checking for pthread link with -lpthreads -lexc... " >&6; }
-if test "${ol_cv_pthread_lpthreads_lexc+set}" = set; then :
+if ${ol_cv_pthread_lpthreads_lexc+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -18847,7 +18846,7 @@
 	# try -lpthreads
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread link with -lpthreads" >&5
 $as_echo_n "checking for pthread link with -lpthreads... " >&6; }
-if test "${ol_cv_pthread_lib_lpthreads+set}" = set; then :
+if ${ol_cv_pthread_lib_lpthreads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19044,8 +19043,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -19059,7 +19057,7 @@
 			   test $ac_cv_func_thr_yield = no ; then
 								{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for sched_yield in -lrt" >&5
 $as_echo_n "checking for sched_yield in -lrt... " >&6; }
-if test "${ac_cv_lib_rt_sched_yield+set}" = set; then :
+if ${ac_cv_lib_rt_sched_yield+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -19093,7 +19091,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rt_sched_yield" >&5
 $as_echo "$ac_cv_lib_rt_sched_yield" >&6; }
-if test "x$ac_cv_lib_rt_sched_yield" = x""yes; then :
+if test "x$ac_cv_lib_rt_sched_yield" = xyes; then :
   LTHREAD_LIBS="$LTHREAD_LIBS -lrt"
 
 $as_echo "#define HAVE_SCHED_YIELD 1" >>confdefs.h
@@ -19114,7 +19112,7 @@
 						for ac_func in pthread_kill
 do :
   ac_fn_c_check_func "$LINENO" "pthread_kill" "ac_cv_func_pthread_kill"
-if test "x$ac_cv_func_pthread_kill" = x""yes; then :
+if test "x$ac_cv_func_pthread_kill" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_PTHREAD_KILL 1
 _ACEOF
@@ -19125,7 +19123,7 @@
 
 									{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_rwlock_destroy with <pthread.h>" >&5
 $as_echo_n "checking for pthread_rwlock_destroy with <pthread.h>... " >&6; }
-if test "${ol_cv_func_pthread_rwlock_destroy+set}" = set; then :
+if ${ol_cv_func_pthread_rwlock_destroy+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19162,7 +19160,7 @@
 
 									{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_detach with <pthread.h>" >&5
 $as_echo_n "checking for pthread_detach with <pthread.h>... " >&6; }
-if test "${ol_cv_func_pthread_detach+set}" = set; then :
+if ${ol_cv_func_pthread_detach+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19195,7 +19193,7 @@
 $as_echo "$ol_cv_func_pthread_detach" >&6; }
 
 			if test $ol_cv_func_pthread_detach = no ; then
-				as_fn_error "could not locate pthread_detach()" "$LINENO" 5
+				as_fn_error $? "could not locate pthread_detach()" "$LINENO" 5
 			fi
 
 
@@ -19211,8 +19209,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -19225,7 +19222,7 @@
 	for ac_func in pthread_kill_other_threads_np
 do :
   ac_fn_c_check_func "$LINENO" "pthread_kill_other_threads_np" "ac_cv_func_pthread_kill_other_threads_np"
-if test "x$ac_cv_func_pthread_kill_other_threads_np" = x""yes; then :
+if test "x$ac_cv_func_pthread_kill_other_threads_np" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_PTHREAD_KILL_OTHER_THREADS_NP 1
 _ACEOF
@@ -19235,7 +19232,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for LinuxThreads implementation" >&5
 $as_echo_n "checking for LinuxThreads implementation... " >&6; }
-if test "${ol_cv_sys_linux_threads+set}" = set; then :
+if ${ol_cv_sys_linux_threads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ol_cv_sys_linux_threads=$ac_cv_func_pthread_kill_other_threads_np
@@ -19248,7 +19245,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for LinuxThreads consistency" >&5
 $as_echo_n "checking for LinuxThreads consistency... " >&6; }
-if test "${ol_cv_linux_threads+set}" = set; then :
+if ${ol_cv_linux_threads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19268,12 +19265,12 @@
 
 
 			if test $ol_cv_linux_threads = error; then
-				as_fn_error "LinuxThreads header/library mismatch" "$LINENO" 5;
+				as_fn_error $? "LinuxThreads header/library mismatch" "$LINENO" 5;
 			fi
 
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if pthread_create() works" >&5
 $as_echo_n "checking if pthread_create() works... " >&6; }
-if test "${ol_cv_pthread_create_works+set}" = set; then :
+if ${ol_cv_pthread_create_works+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19367,7 +19364,7 @@
 $as_echo "$ol_cv_pthread_create_works" >&6; }
 
 			if test $ol_cv_pthread_create_works = no ; then
-				as_fn_error "pthread_create is not usable, check environment settings" "$LINENO" 5
+				as_fn_error $? "pthread_create is not usable, check environment settings" "$LINENO" 5
 			fi
 
 			ol_replace_broken_yield=no
@@ -19381,7 +19378,7 @@
 						if test $ol_with_yielding_select = auto ; then
 				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if select yields when using pthreads" >&5
 $as_echo_n "checking if select yields when using pthreads... " >&6; }
-if test "${ol_cv_pthread_select_yields+set}" = set; then :
+if ${ol_cv_pthread_select_yields+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19479,7 +19476,7 @@
 $as_echo "$ol_cv_pthread_select_yields" >&6; }
 
 				if test $ol_cv_pthread_select_yields = cross ; then
-					as_fn_error "crossing compiling: use --with-yielding_select=yes|no|manual" "$LINENO" 5
+					as_fn_error $? "crossing compiling: use --with-yielding_select=yes|no|manual" "$LINENO" 5
 				fi
 
 				if test $ol_cv_pthread_select_yields = yes ; then
@@ -19490,12 +19487,12 @@
 						CPPFLAGS="$save_CPPFLAGS"
 			LIBS="$save_LIBS"
 		else
-			as_fn_error "could not locate usable POSIX Threads" "$LINENO" 5
+			as_fn_error $? "could not locate usable POSIX Threads" "$LINENO" 5
 		fi
 	fi
 
 	if test $ol_with_threads = posix ; then
-		as_fn_error "could not locate POSIX Threads" "$LINENO" 5
+		as_fn_error $? "could not locate POSIX Threads" "$LINENO" 5
 	fi
 	;;
 esac
@@ -19506,8 +19503,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -19520,7 +19516,7 @@
 		ol_with_threads=found
 
 				ac_fn_c_check_func "$LINENO" "cthread_fork" "ac_cv_func_cthread_fork"
-if test "x$ac_cv_func_cthread_fork" = x""yes; then :
+if test "x$ac_cv_func_cthread_fork" = xyes; then :
   ol_link_threads=yes
 fi
 
@@ -19528,7 +19524,7 @@
 		if test $ol_link_threads = no ; then
 									{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for cthread_fork with -all_load" >&5
 $as_echo_n "checking for cthread_fork with -all_load... " >&6; }
-if test "${ol_cv_cthread_all_load+set}" = set; then :
+if ${ol_cv_cthread_all_load+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19574,7 +19570,7 @@
 				save_LIBS="$LIBS"
 		LIBS="$LIBS -lthreads"
 		ac_fn_c_check_func "$LINENO" "cthread_fork" "ac_cv_func_cthread_fork"
-if test "x$ac_cv_func_cthread_fork" = x""yes; then :
+if test "x$ac_cv_func_cthread_fork" = xyes; then :
   ol_link_threads=yes
 fi
 
@@ -19585,11 +19581,11 @@
 			ol_link_threads=mach
 			ol_with_threads=found
 		else
-			as_fn_error "could not link with Mach CThreads" "$LINENO" 5
+			as_fn_error $? "could not link with Mach CThreads" "$LINENO" 5
 		fi
 
 	elif test $ol_with_threads = mach ; then
-		as_fn_error "could not locate Mach CThreads" "$LINENO" 5
+		as_fn_error $? "could not locate Mach CThreads" "$LINENO" 5
 	fi
 
 	if test $ol_link_threads = mach ; then
@@ -19597,7 +19593,7 @@
 $as_echo "#define HAVE_MACH_CTHREADS 1" >>confdefs.h
 
 	elif test $ol_with_threads = found ; then
-		as_fn_error "could not link with Mach CThreads" "$LINENO" 5
+		as_fn_error $? "could not link with Mach CThreads" "$LINENO" 5
 	fi
 	;;
 esac
@@ -19607,7 +19603,7 @@
 	for ac_header in pth.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "pth.h" "ac_cv_header_pth_h" "$ac_includes_default"
-if test "x$ac_cv_header_pth_h" = x""yes; then :
+if test "x$ac_cv_header_pth_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_PTH_H 1
 _ACEOF
@@ -19620,7 +19616,7 @@
 	if test $ac_cv_header_pth_h = yes ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pth_version in -lpth" >&5
 $as_echo_n "checking for pth_version in -lpth... " >&6; }
-if test "${ac_cv_lib_pth_pth_version+set}" = set; then :
+if ${ac_cv_lib_pth_pth_version+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -19654,7 +19650,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pth_pth_version" >&5
 $as_echo "$ac_cv_lib_pth_pth_version" >&6; }
-if test "x$ac_cv_lib_pth_pth_version" = x""yes; then :
+if test "x$ac_cv_lib_pth_pth_version" = xyes; then :
   have_pth=yes
 else
   have_pth=no
@@ -19683,8 +19679,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -19697,7 +19692,7 @@
 	   test $ac_cv_header_synch_h = yes ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for thr_create in -lthread" >&5
 $as_echo_n "checking for thr_create in -lthread... " >&6; }
-if test "${ac_cv_lib_thread_thr_create+set}" = set; then :
+if ${ac_cv_lib_thread_thr_create+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -19731,7 +19726,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_thread_thr_create" >&5
 $as_echo "$ac_cv_lib_thread_thr_create" >&6; }
-if test "x$ac_cv_lib_thread_thr_create" = x""yes; then :
+if test "x$ac_cv_lib_thread_thr_create" = xyes; then :
   have_thr=yes
 else
   have_thr=no
@@ -19756,8 +19751,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -19786,8 +19780,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -19800,8 +19793,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -19812,7 +19804,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for LinuxThreads pthread.h" >&5
 $as_echo_n "checking for LinuxThreads pthread.h... " >&6; }
-if test "${ol_cv_header_linux_threads+set}" = set; then :
+if ${ol_cv_header_linux_threads+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -19841,7 +19833,7 @@
 	for ac_header in mach/cthreads.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "mach/cthreads.h" "ac_cv_header_mach_cthreads_h" "$ac_includes_default"
-if test "x$ac_cv_header_mach_cthreads_h" = x""yes; then :
+if test "x$ac_cv_header_mach_cthreads_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_MACH_CTHREADS_H 1
 _ACEOF
@@ -19854,8 +19846,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -19884,7 +19875,7 @@
 
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for thread specific errno" >&5
 $as_echo_n "checking for thread specific errno... " >&6; }
-if test "${ol_cv_errno_thread_specific+set}" = set; then :
+if ${ol_cv_errno_thread_specific+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19913,7 +19904,7 @@
 
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for thread specific h_errno" >&5
 $as_echo_n "checking for thread specific h_errno... " >&6; }
-if test "${ol_cv_h_errno_thread_specific+set}" = set; then :
+if ${ol_cv_h_errno_thread_specific+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -19950,7 +19941,7 @@
 
 if test $ol_link_threads = no ; then
 	if test $ol_with_threads = yes ; then
-		as_fn_error "no suitable thread support" "$LINENO" 5
+		as_fn_error $? "no suitable thread support" "$LINENO" 5
 	fi
 
 	if test $ol_with_threads = auto ; then
@@ -19982,8 +19973,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -19997,7 +19987,7 @@
 else
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking number of arguments of ctime_r" >&5
 $as_echo_n "checking number of arguments of ctime_r... " >&6; }
-if test "${ol_cv_func_ctime_r_nargs+set}" = set; then :
+if ${ol_cv_func_ctime_r_nargs+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -20067,7 +20057,7 @@
 if test "$ac_cv_func_gethostbyname_r" = yes ; then
  	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking number of arguments of gethostbyname_r" >&5
 $as_echo_n "checking number of arguments of gethostbyname_r... " >&6; }
-if test "${ol_cv_func_gethostbyname_r_nargs+set}" = set; then :
+if ${ol_cv_func_gethostbyname_r_nargs+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -20153,7 +20143,7 @@
 if test "$ac_cv_func_gethostbyaddr_r" = yes ; then
  	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking number of arguments of gethostbyaddr_r" >&5
 $as_echo_n "checking number of arguments of gethostbyaddr_r... " >&6; }
-if test "${ol_cv_func_gethostbyaddr_r_nargs+set}" = set; then :
+if ${ol_cv_func_gethostbyaddr_r_nargs+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -20248,7 +20238,7 @@
 for ac_header in db.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "db.h" "ac_cv_header_db_h" "$ac_includes_default"
-if test "x$ac_cv_header_db_h" = x""yes; then :
+if test "x$ac_cv_header_db_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_DB_H 1
 _ACEOF
@@ -20260,7 +20250,7 @@
 if test $ac_cv_header_db_h = yes; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB major version in db.h" >&5
 $as_echo_n "checking for Berkeley DB major version in db.h... " >&6; }
-if test "${ol_cv_bdb_major+set}" = set; then :
+if ${ol_cv_bdb_major+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20281,12 +20271,12 @@
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ol_cv_bdb_major" >&5
 $as_echo "$ol_cv_bdb_major" >&6; }
 case $ol_cv_bdb_major in [1-9]*) : ;; *)
-	as_fn_error "Unknown Berkeley DB major version in db.h" "$LINENO" 5 ;;
+	as_fn_error $? "Unknown Berkeley DB major version in db.h" "$LINENO" 5 ;;
 esac
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB minor version in db.h" >&5
 $as_echo_n "checking for Berkeley DB minor version in db.h... " >&6; }
-if test "${ol_cv_bdb_minor+set}" = set; then :
+if ${ol_cv_bdb_minor+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20307,12 +20297,12 @@
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ol_cv_bdb_minor" >&5
 $as_echo "$ol_cv_bdb_minor" >&6; }
 case $ol_cv_bdb_minor in [0-9]*) : ;; *)
-	as_fn_error "Unknown Berkeley DB minor version in db.h" "$LINENO" 5 ;;
+	as_fn_error $? "Unknown Berkeley DB minor version in db.h" "$LINENO" 5 ;;
 esac
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if Berkeley DB version supported by BDB/HDB backends" >&5
 $as_echo_n "checking if Berkeley DB version supported by BDB/HDB backends... " >&6; }
-if test "${ol_cv_bdb_compat+set}" = set; then :
+if ${ol_cv_bdb_compat+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20351,7 +20341,7 @@
 
 
 	if test $ol_cv_bdb_compat != yes ; then
-		as_fn_error "BerkeleyDB version incompatible with BDB/HDB backends" "$LINENO" 5
+		as_fn_error $? "BerkeleyDB version incompatible with BDB/HDB backends" "$LINENO" 5
 	fi
 
 	ol_cv_lib_db=no
@@ -20360,7 +20350,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-5.$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-5.$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db_5_dot_m+set}" = set; then :
+if ${ol_cv_db_db_5_dot_m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20423,7 +20413,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb5$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb5$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db5m+set}" = set; then :
+if ${ol_cv_db_db5m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20486,7 +20476,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-5$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-5$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db_5m+set}" = set; then :
+if ${ol_cv_db_db_5m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20549,7 +20539,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-5-$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-5-$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db_5_m+set}" = set; then :
+if ${ol_cv_db_db_5_m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20612,7 +20602,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-5)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-5)... " >&6; }
-if test "${ol_cv_db_db_5+set}" = set; then :
+if ${ol_cv_db_db_5+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20675,7 +20665,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb5)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb5)... " >&6; }
-if test "${ol_cv_db_db5+set}" = set; then :
+if ${ol_cv_db_db5+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20739,7 +20729,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-4.$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-4.$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db_4_dot_m+set}" = set; then :
+if ${ol_cv_db_db_4_dot_m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20802,7 +20792,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb4$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb4$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db4m+set}" = set; then :
+if ${ol_cv_db_db4m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20865,7 +20855,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-4$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-4$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db_4m+set}" = set; then :
+if ${ol_cv_db_db_4m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20928,7 +20918,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-4-$ol_cv_bdb_minor)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-4-$ol_cv_bdb_minor)... " >&6; }
-if test "${ol_cv_db_db_4_m+set}" = set; then :
+if ${ol_cv_db_db_4_m+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -20991,7 +20981,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb-4)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb-4)... " >&6; }
-if test "${ol_cv_db_db_4+set}" = set; then :
+if ${ol_cv_db_db_4+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -21054,7 +21044,7 @@
 	if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb4)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb4)... " >&6; }
-if test "${ol_cv_db_db4+set}" = set; then :
+if ${ol_cv_db_db4+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -21118,7 +21108,7 @@
 if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (-ldb)" >&5
 $as_echo_n "checking for Berkeley DB link (-ldb)... " >&6; }
-if test "${ol_cv_db_db+set}" = set; then :
+if ${ol_cv_db_db+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -21181,7 +21171,7 @@
 if test $ol_cv_lib_db = no ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB link (default)" >&5
 $as_echo_n "checking for Berkeley DB link (default)... " >&6; }
-if test "${ol_cv_db_none+set}" = set; then :
+if ${ol_cv_db_none+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -21246,7 +21236,7 @@
 		ol_cv_berkeley_db=yes
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB library and header version match" >&5
 $as_echo_n "checking for Berkeley DB library and header version match... " >&6; }
-if test "${ol_cv_berkeley_db_version+set}" = set; then :
+if ${ol_cv_berkeley_db_version+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -21312,12 +21302,12 @@
 $as_echo "$ol_cv_berkeley_db_version" >&6; }
 
 	if test $ol_cv_berkeley_db_version = no ; then
-		as_fn_error "Berkeley DB version mismatch" "$LINENO" 5
+		as_fn_error $? "Berkeley DB version mismatch" "$LINENO" 5
 	fi
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Berkeley DB thread support" >&5
 $as_echo_n "checking for Berkeley DB thread support... " >&6; }
-if test "${ol_cv_berkeley_db_thread+set}" = set; then :
+if ${ol_cv_berkeley_db_thread+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -21424,7 +21414,7 @@
 
 
 	if test $ol_cv_berkeley_db = no ; then
-		as_fn_error "BDB/HDB: BerkeleyDB not available" "$LINENO" 5
+		as_fn_error $? "BDB/HDB: BerkeleyDB not available" "$LINENO" 5
 	fi
 
 
@@ -21456,7 +21446,7 @@
 	for ac_header in tcpd.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "tcpd.h" "ac_cv_header_tcpd_h" "$ac_includes_default"
-if test "x$ac_cv_header_tcpd_h" = x""yes; then :
+if test "x$ac_cv_header_tcpd_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_TCPD_H 1
 _ACEOF
@@ -21541,7 +21531,7 @@
 
 		WRAP_LIBS="-lwrap"
 	elif test $ol_enable_wrappers = yes ; then
-		as_fn_error "could not find TCP wrappers, select apppropriate options or disable" "$LINENO" 5
+		as_fn_error $? "could not find TCP wrappers, select apppropriate options or disable" "$LINENO" 5
 	else
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: could not find TCP wrappers, support disabled" >&5
 $as_echo "$as_me: WARNING: could not find TCP wrappers, support disabled" >&2;}
@@ -21551,13 +21541,12 @@
 
 if test $ol_enable_syslog != no ; then
 	ac_fn_c_check_func "$LINENO" "openlog" "ac_cv_func_openlog"
-if test "x$ac_cv_func_openlog" = x""yes; then :
+if test "x$ac_cv_func_openlog" = xyes; then :
 
 fi
 
 	if test $ac_cv_func_openlog = no && test $ol_enable_syslog = yes; then
-		{ as_fn_set_status select appropriate options or disable
-as_fn_error "could not find syslog" "$LINENO" 5; }
+		as_fn_error select appropriate options or disable "could not find syslog" "$LINENO" 5
 	fi
 	ol_enable_syslog=$ac_cv_func_openlog
 fi
@@ -21568,15 +21557,14 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
 
 else
 
-		as_fn_error "could not locate SQL headers" "$LINENO" 5
+		as_fn_error $? "could not locate SQL headers" "$LINENO" 5
 
 fi
 
@@ -21596,7 +21584,7 @@
 			iodbc)
 				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SQLDriverConnect in -liodbc" >&5
 $as_echo_n "checking for SQLDriverConnect in -liodbc... " >&6; }
-if test "${ac_cv_lib_iodbc_SQLDriverConnect+set}" = set; then :
+if ${ac_cv_lib_iodbc_SQLDriverConnect+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -21630,7 +21618,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_iodbc_SQLDriverConnect" >&5
 $as_echo "$ac_cv_lib_iodbc_SQLDriverConnect" >&6; }
-if test "x$ac_cv_lib_iodbc_SQLDriverConnect" = x""yes; then :
+if test "x$ac_cv_lib_iodbc_SQLDriverConnect" = xyes; then :
   have_iodbc=yes
 else
   have_iodbc=no
@@ -21644,7 +21632,7 @@
 			unixodbc)
 				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SQLDriverConnect in -lodbc" >&5
 $as_echo_n "checking for SQLDriverConnect in -lodbc... " >&6; }
-if test "${ac_cv_lib_odbc_SQLDriverConnect+set}" = set; then :
+if ${ac_cv_lib_odbc_SQLDriverConnect+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -21678,7 +21666,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_odbc_SQLDriverConnect" >&5
 $as_echo "$ac_cv_lib_odbc_SQLDriverConnect" >&6; }
-if test "x$ac_cv_lib_odbc_SQLDriverConnect" = x""yes; then :
+if test "x$ac_cv_lib_odbc_SQLDriverConnect" = xyes; then :
   have_odbc=yes
 else
   have_odbc=no
@@ -21692,7 +21680,7 @@
 			odbc32)
 				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SQLDriverConnect in -lodbc32" >&5
 $as_echo_n "checking for SQLDriverConnect in -lodbc32... " >&6; }
-if test "${ac_cv_lib_odbc32_SQLDriverConnect+set}" = set; then :
+if ${ac_cv_lib_odbc32_SQLDriverConnect+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -21726,7 +21714,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_odbc32_SQLDriverConnect" >&5
 $as_echo "$ac_cv_lib_odbc32_SQLDriverConnect" >&6; }
-if test "x$ac_cv_lib_odbc32_SQLDriverConnect" = x""yes; then :
+if test "x$ac_cv_lib_odbc32_SQLDriverConnect" = xyes; then :
   have_odbc32=yes
 else
   have_odbc32=no
@@ -21771,7 +21759,7 @@
 				;;
 
 			*)
-				as_fn_error "unknown ODBC library" "$LINENO" 5
+				as_fn_error $? "unknown ODBC library" "$LINENO" 5
 				;;
 			esac
 		fi
@@ -21783,7 +21771,7 @@
 		SLAPD_SQL_LIBS="$ol_link_sql"
 
 	elif test $ol_enable_sql != auto ; then
-		as_fn_error "could not locate suitable ODBC library" "$LINENO" 5
+		as_fn_error $? "could not locate suitable ODBC library" "$LINENO" 5
 	fi
 fi
 
@@ -21793,7 +21781,7 @@
 set dummy mysql_config; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if test "${ac_cv_prog_MYSQL+set}" = set; then :
+if ${ac_cv_prog_MYSQL+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$MYSQL"; then
@@ -21827,7 +21815,7 @@
 
 
 	if test "$MYSQL" != yes ; then
-		as_fn_error "could not locate mysql_config" "$LINENO" 5
+		as_fn_error $? "could not locate mysql_config" "$LINENO" 5
 	fi
 
 	SQL_INC=`mysql_config --include`
@@ -21845,10 +21833,10 @@
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
 else
-  as_fn_error "could not locate NdbApi headers" "$LINENO" 5
+  as_fn_error $? "could not locate NdbApi headers" "$LINENO" 5
 
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 	CPPFLAGS="$save_CPPFLAGS"
 
 	SQL_LIB=`mysql_config --libs_r`
@@ -21859,7 +21847,7 @@
 	LDFLAGS="$SQL_LIB"
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ndb_init in -lndbclient" >&5
 $as_echo_n "checking for ndb_init in -lndbclient... " >&6; }
-if test "${ac_cv_lib_ndbclient_ndb_init+set}" = set; then :
+if ${ac_cv_lib_ndbclient_ndb_init+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -21893,11 +21881,11 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ndbclient_ndb_init" >&5
 $as_echo "$ac_cv_lib_ndbclient_ndb_init" >&6; }
-if test "x$ac_cv_lib_ndbclient_ndb_init" = x""yes; then :
+if test "x$ac_cv_lib_ndbclient_ndb_init" = xyes; then :
   : ok
 else
 
-		as_fn_error "could not locate ndbclient library" "$LINENO" 5
+		as_fn_error $? "could not locate ndbclient library" "$LINENO" 5
 
 fi
 
@@ -21914,8 +21902,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -21929,7 +21916,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ICU libraries" >&5
 $as_echo_n "checking for ICU libraries... " >&6; }
-if test "${ol_cv_lib_icu+set}" = set; then :
+if ${ol_cv_lib_icu+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -21985,8 +21972,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -22000,7 +21986,7 @@
 	   test $ac_cv_header_sasl_h = yes; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for sasl_client_init in -lsasl2" >&5
 $as_echo_n "checking for sasl_client_init in -lsasl2... " >&6; }
-if test "${ac_cv_lib_sasl2_sasl_client_init+set}" = set; then :
+if ${ac_cv_lib_sasl2_sasl_client_init+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -22034,12 +22020,12 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_sasl2_sasl_client_init" >&5
 $as_echo "$ac_cv_lib_sasl2_sasl_client_init" >&6; }
-if test "x$ac_cv_lib_sasl2_sasl_client_init" = x""yes; then :
+if test "x$ac_cv_lib_sasl2_sasl_client_init" = xyes; then :
   ol_link_sasl="-lsasl2"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for sasl_client_init in -lsasl" >&5
 $as_echo_n "checking for sasl_client_init in -lsasl... " >&6; }
-if test "${ac_cv_lib_sasl_sasl_client_init+set}" = set; then :
+if ${ac_cv_lib_sasl_sasl_client_init+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -22073,7 +22059,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_sasl_sasl_client_init" >&5
 $as_echo "$ac_cv_lib_sasl_sasl_client_init" >&6; }
-if test "x$ac_cv_lib_sasl_sasl_client_init" = x""yes; then :
+if test "x$ac_cv_lib_sasl_sasl_client_init" = xyes; then :
   ol_link_sasl="-lsasl"
 fi
 
@@ -22083,7 +22069,7 @@
 
 	if test $ol_link_sasl = no ; then
 		if test $ol_with_cyrus_sasl != auto ; then
-			as_fn_error "Could not locate Cyrus SASL" "$LINENO" 5
+			as_fn_error $? "Could not locate Cyrus SASL" "$LINENO" 5
 		else
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Could not locate Cyrus SASL" >&5
 $as_echo "$as_me: WARNING: Could not locate Cyrus SASL" >&2;}
@@ -22097,7 +22083,7 @@
 	else
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking Cyrus SASL library version" >&5
 $as_echo_n "checking Cyrus SASL library version... " >&6; }
-if test "${ol_cv_sasl_compat+set}" = set; then :
+if ${ol_cv_sasl_compat+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -22133,7 +22119,7 @@
 
 		if test $ol_cv_sasl_compat = no ; then
 			ol_link_sasl=no
-			as_fn_error "Cyrus SASL library located but is incompatible" "$LINENO" 5
+			as_fn_error $? "Cyrus SASL library located but is incompatible" "$LINENO" 5
 		fi
 
 
@@ -22147,7 +22133,7 @@
 		ac_save_LIBS="$LIBS"
 		LIBS="$LIBS $ol_link_sasl"
 		ac_fn_c_check_func "$LINENO" "sasl_version" "ac_cv_func_sasl_version"
-if test "x$ac_cv_func_sasl_version" = x""yes; then :
+if test "x$ac_cv_func_sasl_version" = xyes; then :
 
 $as_echo "#define HAVE_SASL_VERSION 1" >>confdefs.h
 
@@ -22196,7 +22182,7 @@
 LIBS="-lfetch -lcom_err $LIBS"
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking fetch(3) library" >&5
 $as_echo_n "checking fetch(3) library... " >&6; }
-if test "${ol_cv_lib_fetch+set}" = set; then :
+if ${ol_cv_lib_fetch+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -22240,7 +22226,7 @@
 		ol_link_fetch=freebsd
 
 	elif test $ol_with_fetch != auto ; then
-		as_fn_error "no suitable API for --with-fetch=$ol_with_fetch" "$LINENO" 5
+		as_fn_error $? "no suitable API for --with-fetch=$ol_with_fetch" "$LINENO" 5
 	fi
 fi
 
@@ -22249,14 +22235,14 @@
 	LIBS="$TLS_LIBS $LIBS"
 
 	ac_fn_c_check_func "$LINENO" "crypt" "ac_cv_func_crypt"
-if test "x$ac_cv_func_crypt" = x""yes; then :
+if test "x$ac_cv_func_crypt" = xyes; then :
   have_crypt=yes
 else
 
 		LIBS="$save_LIBS"
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for crypt in -lcrypt" >&5
 $as_echo_n "checking for crypt in -lcrypt... " >&6; }
-if test "${ac_cv_lib_crypt_crypt+set}" = set; then :
+if ${ac_cv_lib_crypt_crypt+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -22290,7 +22276,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_crypt_crypt" >&5
 $as_echo "$ac_cv_lib_crypt_crypt" >&6; }
-if test "x$ac_cv_lib_crypt_crypt" = x""yes; then :
+if test "x$ac_cv_lib_crypt_crypt" = xyes; then :
   LUTIL_LIBS="$LUTIL_LIBS -lcrypt"
 			have_crypt=yes
 else
@@ -22310,7 +22296,7 @@
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: could not find crypt" >&5
 $as_echo "$as_me: WARNING: could not find crypt" >&2;}
 		if test $ol_enable_crypt = yes ; then
-			as_fn_error "could not find crypt, select appropriate options or disable" "$LINENO" 5
+			as_fn_error $? "could not find crypt, select appropriate options or disable" "$LINENO" 5
 		fi
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: disabling crypt support" >&5
@@ -22321,13 +22307,13 @@
 
 if test $ol_enable_proctitle != no ; then
 	ac_fn_c_check_func "$LINENO" "setproctitle" "ac_cv_func_setproctitle"
-if test "x$ac_cv_func_setproctitle" = x""yes; then :
+if test "x$ac_cv_func_setproctitle" = xyes; then :
   have_setproctitle=yes
 else
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for setproctitle in -lutil" >&5
 $as_echo_n "checking for setproctitle in -lutil... " >&6; }
-if test "${ac_cv_lib_util_setproctitle+set}" = set; then :
+if ${ac_cv_lib_util_setproctitle+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -22361,7 +22347,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_util_setproctitle" >&5
 $as_echo "$ac_cv_lib_util_setproctitle" >&6; }
-if test "x$ac_cv_lib_util_setproctitle" = x""yes; then :
+if test "x$ac_cv_lib_util_setproctitle" = xyes; then :
   have_setproctitle=yes
 			LUTIL_LIBS="$LUTIL_LIBS -lutil"
 else
@@ -22390,8 +22376,7 @@
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -22404,7 +22389,7 @@
 	if test $ac_cv_header_slp_h = yes ; then
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SLPOpen in -lslp" >&5
 $as_echo_n "checking for SLPOpen in -lslp... " >&6; }
-if test "${ac_cv_lib_slp_SLPOpen+set}" = set; then :
+if ${ac_cv_lib_slp_SLPOpen+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -22438,7 +22423,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_slp_SLPOpen" >&5
 $as_echo "$ac_cv_lib_slp_SLPOpen" >&6; }
-if test "x$ac_cv_lib_slp_SLPOpen" = x""yes; then :
+if test "x$ac_cv_lib_slp_SLPOpen" = xyes; then :
   have_slp=yes
 else
   have_slp=no
@@ -22452,13 +22437,13 @@
 		fi
 
 	elif test $ol_enable_slp = yes ; then
-		as_fn_error "SLP not found" "$LINENO" 5
+		as_fn_error $? "SLP not found" "$LINENO" 5
 	fi
 fi
 
 
 ac_fn_c_check_type "$LINENO" "mode_t" "ac_cv_type_mode_t" "$ac_includes_default"
-if test "x$ac_cv_type_mode_t" = x""yes; then :
+if test "x$ac_cv_type_mode_t" = xyes; then :
 
 else
 
@@ -22469,7 +22454,7 @@
 fi
 
 ac_fn_c_check_type "$LINENO" "off_t" "ac_cv_type_off_t" "$ac_includes_default"
-if test "x$ac_cv_type_off_t" = x""yes; then :
+if test "x$ac_cv_type_off_t" = xyes; then :
 
 else
 
@@ -22480,7 +22465,7 @@
 fi
 
 ac_fn_c_check_type "$LINENO" "pid_t" "ac_cv_type_pid_t" "$ac_includes_default"
-if test "x$ac_cv_type_pid_t" = x""yes; then :
+if test "x$ac_cv_type_pid_t" = xyes; then :
 
 else
 
@@ -22491,7 +22476,7 @@
 fi
 
 ac_fn_c_check_type "$LINENO" "ssize_t" "ac_cv_type_ssize_t" "$ac_includes_default"
-if test "x$ac_cv_type_ssize_t" = x""yes; then :
+if test "x$ac_cv_type_ssize_t" = xyes; then :
 
 else
 
@@ -22502,7 +22487,7 @@
 fi
 
 ac_fn_c_check_type "$LINENO" "caddr_t" "ac_cv_type_caddr_t" "$ac_includes_default"
-if test "x$ac_cv_type_caddr_t" = x""yes; then :
+if test "x$ac_cv_type_caddr_t" = xyes; then :
 
 else
 
@@ -22513,7 +22498,7 @@
 fi
 
 ac_fn_c_check_type "$LINENO" "size_t" "ac_cv_type_size_t" "$ac_includes_default"
-if test "x$ac_cv_type_size_t" = x""yes; then :
+if test "x$ac_cv_type_size_t" = xyes; then :
 
 else
 
@@ -22525,7 +22510,7 @@
 
 
 ac_fn_c_check_type "$LINENO" "long long" "ac_cv_type_long_long" "$ac_includes_default"
-if test "x$ac_cv_type_long_long" = x""yes; then :
+if test "x$ac_cv_type_long_long" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_LONG_LONG 1
@@ -22535,7 +22520,7 @@
 fi
 
 ac_fn_c_check_type "$LINENO" "ptrdiff_t" "ac_cv_type_ptrdiff_t" "$ac_includes_default"
-if test "x$ac_cv_type_ptrdiff_t" = x""yes; then :
+if test "x$ac_cv_type_ptrdiff_t" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_PTRDIFF_T 1
@@ -22551,14 +22536,14 @@
 #include <sys/socket.h>
 #endif
 "
-if test "x$ac_cv_type_socklen_t" = x""yes; then :
+if test "x$ac_cv_type_socklen_t" = xyes; then :
 
 fi
 
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking the type of arg 3 to accept()" >&5
 $as_echo_n "checking the type of arg 3 to accept()... " >&6; }
-if test "${ol_cv_type_ber_socklen_t+set}" = set; then :
+if ${ol_cv_type_ber_socklen_t+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -22610,7 +22595,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking return type of signal handlers" >&5
 $as_echo_n "checking return type of signal handlers... " >&6; }
-if test "${ac_cv_type_signal+set}" = set; then :
+if ${ac_cv_type_signal+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -22646,7 +22631,7 @@
 #include <signal.h>
 
 "
-if test "x$ac_cv_type_sig_atomic_t" = x""yes; then :
+if test "x$ac_cv_type_sig_atomic_t" = xyes; then :
 
 else
 
@@ -22659,7 +22644,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for uid_t in sys/types.h" >&5
 $as_echo_n "checking for uid_t in sys/types.h... " >&6; }
-if test "${ac_cv_type_uid_t+set}" = set; then :
+if ${ac_cv_type_uid_t+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -22690,7 +22675,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether time.h and sys/time.h may both be included" >&5
 $as_echo_n "checking whether time.h and sys/time.h may both be included... " >&6; }
-if test "${ac_cv_header_time+set}" = set; then :
+if ${ac_cv_header_time+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -22725,7 +22710,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether struct tm is in sys/time.h or time.h" >&5
 $as_echo_n "checking whether struct tm is in sys/time.h or time.h... " >&6; }
-if test "${ac_cv_struct_tm+set}" = set; then :
+if ${ac_cv_struct_tm+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -22759,7 +22744,7 @@
 fi
 
 ac_fn_c_check_member "$LINENO" "struct stat" "st_blksize" "ac_cv_member_struct_stat_st_blksize" "$ac_includes_default"
-if test "x$ac_cv_member_struct_stat_st_blksize" = x""yes; then :
+if test "x$ac_cv_member_struct_stat_st_blksize" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_STAT_ST_BLKSIZE 1
@@ -22771,7 +22756,7 @@
 ac_fn_c_check_member "$LINENO" "struct passwd" "pw_gecos" "ac_cv_member_struct_passwd_pw_gecos" "$ac_includes_default
 #include <pwd.h>
 "
-if test "x$ac_cv_member_struct_passwd_pw_gecos" = x""yes; then :
+if test "x$ac_cv_member_struct_passwd_pw_gecos" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_PASSWD_PW_GECOS 1
@@ -22783,7 +22768,7 @@
 ac_fn_c_check_member "$LINENO" "struct passwd" "pw_passwd" "ac_cv_member_struct_passwd_pw_passwd" "$ac_includes_default
 #include <pwd.h>
 "
-if test "x$ac_cv_member_struct_passwd_pw_passwd" = x""yes; then :
+if test "x$ac_cv_member_struct_passwd_pw_passwd" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_PASSWD_PW_PASSWD 1
@@ -22795,7 +22780,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if toupper() requires islower()" >&5
 $as_echo_n "checking if toupper() requires islower()... " >&6; }
-if test "${ol_cv_c_upper_lower+set}" = set; then :
+if ${ol_cv_c_upper_lower+:} false; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -22834,7 +22819,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for an ANSI C-conforming const" >&5
 $as_echo_n "checking for an ANSI C-conforming const... " >&6; }
-if test "${ac_cv_c_const+set}" = set; then :
+if ${ac_cv_c_const+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -22914,7 +22899,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if compiler understands volatile" >&5
 $as_echo_n "checking if compiler understands volatile... " >&6; }
-if test "${ol_cv_c_volatile+set}" = set; then :
+if ${ol_cv_c_volatile+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -22957,7 +22942,7 @@
 else
 	 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether byte ordering is bigendian" >&5
 $as_echo_n "checking whether byte ordering is bigendian... " >&6; }
-if test "${ac_cv_c_bigendian+set}" = set; then :
+if ${ac_cv_c_bigendian+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_cv_c_bigendian=unknown
@@ -23175,7 +23160,7 @@
 
      ;; #(
    *)
-     as_fn_error "unknown endianness
+     as_fn_error $? "unknown endianness
  presetting ac_cv_c_bigendian=no (or yes) will help" "$LINENO" 5 ;;
  esac
 
@@ -23187,7 +23172,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of short" >&5
 $as_echo_n "checking size of short... " >&6; }
-if test "${ac_cv_sizeof_short+set}" = set; then :
+if ${ac_cv_sizeof_short+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (short))" "ac_cv_sizeof_short"        "$ac_includes_default"; then :
@@ -23196,9 +23181,8 @@
   if test "$ac_cv_type_short" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (short)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (short)
+See \`config.log' for more details" "$LINENO" 5; }
    else
      ac_cv_sizeof_short=0
    fi
@@ -23221,7 +23205,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of int" >&5
 $as_echo_n "checking size of int... " >&6; }
-if test "${ac_cv_sizeof_int+set}" = set; then :
+if ${ac_cv_sizeof_int+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (int))" "ac_cv_sizeof_int"        "$ac_includes_default"; then :
@@ -23230,9 +23214,8 @@
   if test "$ac_cv_type_int" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (int)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (int)
+See \`config.log' for more details" "$LINENO" 5; }
    else
      ac_cv_sizeof_int=0
    fi
@@ -23255,7 +23238,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long" >&5
 $as_echo_n "checking size of long... " >&6; }
-if test "${ac_cv_sizeof_long+set}" = set; then :
+if ${ac_cv_sizeof_long+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long))" "ac_cv_sizeof_long"        "$ac_includes_default"; then :
@@ -23264,9 +23247,8 @@
   if test "$ac_cv_type_long" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (long)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (long)
+See \`config.log' for more details" "$LINENO" 5; }
    else
      ac_cv_sizeof_long=0
    fi
@@ -23289,7 +23271,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long long" >&5
 $as_echo_n "checking size of long long... " >&6; }
-if test "${ac_cv_sizeof_long_long+set}" = set; then :
+if ${ac_cv_sizeof_long_long+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long long))" "ac_cv_sizeof_long_long"        "$ac_includes_default"; then :
@@ -23298,9 +23280,8 @@
   if test "$ac_cv_type_long_long" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (long long)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (long long)
+See \`config.log' for more details" "$LINENO" 5; }
    else
      ac_cv_sizeof_long_long=0
    fi
@@ -23323,7 +23304,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of wchar_t" >&5
 $as_echo_n "checking size of wchar_t... " >&6; }
-if test "${ac_cv_sizeof_wchar_t+set}" = set; then :
+if ${ac_cv_sizeof_wchar_t+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (wchar_t))" "ac_cv_sizeof_wchar_t"        "$ac_includes_default"; then :
@@ -23332,9 +23313,8 @@
   if test "$ac_cv_type_wchar_t" = yes; then
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "cannot compute sizeof (wchar_t)
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "cannot compute sizeof (wchar_t)
+See \`config.log' for more details" "$LINENO" 5; }
    else
      ac_cv_sizeof_wchar_t=0
    fi
@@ -23382,7 +23362,7 @@
 $as_echo "#define USE_MP_LONG_LONG 1" >>confdefs.h
 
 	elif test $ol_with_mp = longlong ; then
-		as_fn_error "long long unusable for multiple precision" "$LINENO" 5
+		as_fn_error $? "long long unusable for multiple precision" "$LINENO" 5
 	fi
 fi
 if test $ol_with_mp = long || test $ol_with_mp = auto ; then
@@ -23392,14 +23372,14 @@
 $as_echo "#define USE_MP_LONG 1" >>confdefs.h
 
 	elif test $ol_with_mp = long ; then
-		as_fn_error "long unusable for multiple precision" "$LINENO" 5
+		as_fn_error $? "long unusable for multiple precision" "$LINENO" 5
 	fi
 fi
 if test $ol_with_mp = bignum || test $ol_with_mp = auto ; then
 	for ac_header in openssl/bn.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "openssl/bn.h" "ac_cv_header_openssl_bn_h" "$ac_includes_default"
-if test "x$ac_cv_header_openssl_bn_h" = x""yes; then :
+if test "x$ac_cv_header_openssl_bn_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_OPENSSL_BN_H 1
 _ACEOF
@@ -23411,7 +23391,7 @@
 	for ac_header in openssl/crypto.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "openssl/crypto.h" "ac_cv_header_openssl_crypto_h" "$ac_includes_default"
-if test "x$ac_cv_header_openssl_crypto_h" = x""yes; then :
+if test "x$ac_cv_header_openssl_crypto_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_OPENSSL_CRYPTO_H 1
 _ACEOF
@@ -23428,14 +23408,14 @@
 $as_echo "#define USE_MP_BIGNUM 1" >>confdefs.h
 
 	elif test $ol_with_mp = bignum ; then
-		as_fn_error "bignum not available" "$LINENO" 5
+		as_fn_error $? "bignum not available" "$LINENO" 5
 	fi
 fi
 if test $ol_with_mp = gmp || test $ol_with_mp = auto ; then
 	for ac_header in gmp.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "gmp.h" "ac_cv_header_gmp_h" "$ac_includes_default"
-if test "x$ac_cv_header_gmp_h" = x""yes; then :
+if test "x$ac_cv_header_gmp_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GMP_H 1
 _ACEOF
@@ -23446,7 +23426,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for __gmpz_add_ui in -lgmp" >&5
 $as_echo_n "checking for __gmpz_add_ui in -lgmp... " >&6; }
-if test "${ac_cv_lib_gmp___gmpz_add_ui+set}" = set; then :
+if ${ac_cv_lib_gmp___gmpz_add_ui+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -23480,7 +23460,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gmp___gmpz_add_ui" >&5
 $as_echo "$ac_cv_lib_gmp___gmpz_add_ui" >&6; }
-if test "x$ac_cv_lib_gmp___gmpz_add_ui" = x""yes; then :
+if test "x$ac_cv_lib_gmp___gmpz_add_ui" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBGMP 1
 _ACEOF
@@ -23495,7 +23475,7 @@
 
 		ol_with_mp=gmp
 	elif test $ol_with_mp = gmp ; then
-		as_fn_error "gmp not available" "$LINENO" 5
+		as_fn_error $? "gmp not available" "$LINENO" 5
 	fi
 fi
 if test $ol_with_mp = auto ; then
@@ -23504,7 +23484,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for working memcmp" >&5
 $as_echo_n "checking for working memcmp... " >&6; }
-if test "${ac_cv_func_memcmp_working+set}" = set; then :
+if ${ac_cv_func_memcmp_working+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   if test "$cross_compiling" = yes; then :
@@ -23574,7 +23554,7 @@
 for ac_func in strftime
 do :
   ac_fn_c_check_func "$LINENO" "strftime" "ac_cv_func_strftime"
-if test "x$ac_cv_func_strftime" = x""yes; then :
+if test "x$ac_cv_func_strftime" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_STRFTIME 1
 _ACEOF
@@ -23583,7 +23563,7 @@
   # strftime is in -lintl on SCO UNIX.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for strftime in -lintl" >&5
 $as_echo_n "checking for strftime in -lintl... " >&6; }
-if test "${ac_cv_lib_intl_strftime+set}" = set; then :
+if ${ac_cv_lib_intl_strftime+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -23617,7 +23597,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_intl_strftime" >&5
 $as_echo "$ac_cv_lib_intl_strftime" >&6; }
-if test "x$ac_cv_lib_intl_strftime" = x""yes; then :
+if test "x$ac_cv_lib_intl_strftime" = xyes; then :
   $as_echo "#define HAVE_STRFTIME 1" >>confdefs.h
 
 LIBS="-lintl $LIBS"
@@ -23629,7 +23609,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for inet_aton()" >&5
 $as_echo_n "checking for inet_aton()... " >&6; }
-if test "${ol_cv_func_inet_aton+set}" = set; then :
+if ${ol_cv_func_inet_aton+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -23676,7 +23656,7 @@
 
 
 ac_fn_c_check_func "$LINENO" "_spawnlp" "ac_cv_func__spawnlp"
-if test "x$ac_cv_func__spawnlp" = x""yes; then :
+if test "x$ac_cv_func__spawnlp" = xyes; then :
 
 $as_echo "#define HAVE_SPAWNLP 1" >>confdefs.h
 
@@ -23684,7 +23664,7 @@
 
 
 ac_fn_c_check_func "$LINENO" "_snprintf" "ac_cv_func__snprintf"
-if test "x$ac_cv_func__snprintf" = x""yes; then :
+if test "x$ac_cv_func__snprintf" = xyes; then :
   ac_cv_func_snprintf=yes
 
 $as_echo "#define snprintf _snprintf" >>confdefs.h
@@ -23697,8 +23677,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -23717,13 +23696,13 @@
 for ac_func in vprintf
 do :
   ac_fn_c_check_func "$LINENO" "vprintf" "ac_cv_func_vprintf"
-if test "x$ac_cv_func_vprintf" = x""yes; then :
+if test "x$ac_cv_func_vprintf" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_VPRINTF 1
 _ACEOF
 
 ac_fn_c_check_func "$LINENO" "_doprnt" "ac_cv_func__doprnt"
-if test "x$ac_cv_func__doprnt" = x""yes; then :
+if test "x$ac_cv_func__doprnt" = xyes; then :
 
 $as_echo "#define HAVE_DOPRNT 1" >>confdefs.h
 
@@ -23739,8 +23718,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -23811,8 +23789,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -23821,25 +23798,31 @@
 done
 
 
-for ac_func in getopt getpeereid
-do :
-  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
-ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
-  cat >>confdefs.h <<_ACEOF
-#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
-_ACEOF
+ac_fn_c_check_func "$LINENO" "getopt" "ac_cv_func_getopt"
+if test "x$ac_cv_func_getopt" = xyes; then :
+  $as_echo "#define HAVE_GETOPT 1" >>confdefs.h
 
 else
   case " $LIBOBJS " in
-  *" $ac_func.$ac_objext "* ) ;;
-  *) LIBOBJS="$LIBOBJS $ac_func.$ac_objext"
+  *" getopt.$ac_objext "* ) ;;
+  *) LIBOBJS="$LIBOBJS getopt.$ac_objext"
+ ;;
+esac
+
+fi
+
+ac_fn_c_check_func "$LINENO" "getpeereid" "ac_cv_func_getpeereid"
+if test "x$ac_cv_func_getpeereid" = xyes; then :
+  $as_echo "#define HAVE_GETPEEREID 1" >>confdefs.h
+
+else
+  case " $LIBOBJS " in
+  *" getpeereid.$ac_objext "* ) ;;
+  *) LIBOBJS="$LIBOBJS getpeereid.$ac_objext"
  ;;
 esac
 
 fi
-done
 
 
 
@@ -23852,8 +23835,7 @@
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -23867,7 +23849,7 @@
 #include <sys/socket.h>
 #endif
 "
-if test "x$ac_cv_member_struct_msghdr_msg_accrightslen" = x""yes; then :
+if test "x$ac_cv_member_struct_msghdr_msg_accrightslen" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_MSGHDR_MSG_ACCRIGHTSLEN 1
@@ -23882,7 +23864,7 @@
 #include <sys/socket.h>
 #endif
 "
-if test "x$ac_cv_member_struct_msghdr_msg_control" = x""yes; then :
+if test "x$ac_cv_member_struct_msghdr_msg_control" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_MSGHDR_MSG_CONTROL 1
@@ -23893,7 +23875,7 @@
 
 		fi
 		ac_fn_c_check_member "$LINENO" "struct stat" "st_fstype" "ac_cv_member_struct_stat_st_fstype" "$ac_includes_default"
-if test "x$ac_cv_member_struct_stat_st_fstype" = x""yes; then :
+if test "x$ac_cv_member_struct_stat_st_fstype" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_STAT_ST_FSTYPE 1
@@ -23902,7 +23884,7 @@
 
 fi
 ac_fn_c_check_member "$LINENO" "struct stat" "st_vfstype" "ac_cv_member_struct_stat_st_vfstype" "$ac_includes_default"
-if test "x$ac_cv_member_struct_stat_st_vfstype" = x""yes; then :
+if test "x$ac_cv_member_struct_stat_st_vfstype" = xyes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_STAT_ST_VFSTYPE 1
@@ -23950,7 +23932,7 @@
 			for ac_header in ltdl.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "ltdl.h" "ac_cv_header_ltdl_h" "$ac_includes_default"
-if test "x$ac_cv_header_ltdl_h" = x""yes; then :
+if test "x$ac_cv_header_ltdl_h" = xyes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LTDL_H 1
 _ACEOF
@@ -23961,11 +23943,11 @@
 
 
 	if test $ac_cv_header_ltdl_h != yes ; then
-		as_fn_error "could not locate <ltdl.h>" "$LINENO" 5
+		as_fn_error $? "could not locate <ltdl.h>" "$LINENO" 5
 	fi
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for lt_dlinit in -lltdl" >&5
 $as_echo_n "checking for lt_dlinit in -lltdl... " >&6; }
-if test "${ac_cv_lib_ltdl_lt_dlinit+set}" = set; then :
+if ${ac_cv_lib_ltdl_lt_dlinit+:} false; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -23999,7 +23981,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ltdl_lt_dlinit" >&5
 $as_echo "$ac_cv_lib_ltdl_lt_dlinit" >&6; }
-if test "x$ac_cv_lib_ltdl_lt_dlinit" = x""yes; then :
+if test "x$ac_cv_lib_ltdl_lt_dlinit" = xyes; then :
 
 		SLAPI_LIBS=-lltdl
 		LIBSLAPI=libslapi.a
@@ -24009,7 +23991,7 @@
 
 
 else
-  as_fn_error "could not locate libtool -lltdl" "$LINENO" 5
+  as_fn_error $? "could not locate libtool -lltdl" "$LINENO" 5
 fi
 
 
@@ -24081,7 +24063,7 @@
 	fi
 	if test "$ol_enable_aci" = mod ; then
 		MFLAG=SLAPD_MOD_DYNAMIC
-				as_fn_error "ACI build as dynamic module not supported (yet)" "$LINENO" 5
+				as_fn_error $? "ACI build as dynamic module not supported (yet)" "$LINENO" 5
 	else
 		MFLAG=SLAPD_MOD_STATIC
 	fi
@@ -24815,6 +24797,7 @@
 
 ac_libobjs=
 ac_ltlibobjs=
+U=
 for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
   # 1. Remove the extension, and $U if already installed.
   ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
@@ -24830,20 +24813,20 @@
 
 
 if test -z "${AMDEP_TRUE}" && test -z "${AMDEP_FALSE}"; then
-  as_fn_error "conditional \"AMDEP\" was never defined.
+  as_fn_error $? "conditional \"AMDEP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
-  as_fn_error "conditional \"am__fastdepCC\" was never defined.
+  as_fn_error $? "conditional \"am__fastdepCC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
-  as_fn_error "conditional \"am__fastdepCC\" was never defined.
+  as_fn_error $? "conditional \"am__fastdepCC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 
 
-: ${CONFIG_STATUS=./config.status}
+: "${CONFIG_STATUS=./config.status}"
 ac_write_fail=0
 ac_clean_files_save=$ac_clean_files
 ac_clean_files="$ac_clean_files $CONFIG_STATUS"
@@ -24944,6 +24927,7 @@
 IFS=" ""	$as_nl"
 
 # Find who we are.  Look in the path if we contain no directory separator.
+as_myself=
 case $0 in #((
   *[\\/]* ) as_myself=$0 ;;
   *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -24989,19 +24973,19 @@
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
 
-# as_fn_error ERROR [LINENO LOG_FD]
-# ---------------------------------
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
 # Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
 # provided, also output the error to LOG_FD, referencing LINENO. Then exit the
-# script with status $?, using 1 if that was 0.
+# script with STATUS, using 1 if that was 0.
 as_fn_error ()
 {
-  as_status=$?; test $as_status -eq 0 && as_status=1
-  if test "$3"; then
-    as_lineno=${as_lineno-"$2"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-    $as_echo "$as_me:${as_lineno-$LINENO}: error: $1" >&$3
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
   fi
-  $as_echo "$as_me: error: $1" >&2
+  $as_echo "$as_me: error: $2" >&2
   as_fn_exit $as_status
 } # as_fn_error
 
@@ -25197,7 +25181,7 @@
       test -d "$as_dir" && break
     done
     test -z "$as_dirs" || eval "mkdir $as_dirs"
-  } || test -d "$as_dir" || as_fn_error "cannot create directory $as_dir"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
 
 
 } # as_fn_mkdir_p
@@ -25251,7 +25235,7 @@
 # values after options handling.
 ac_log="
 This file was extended by $as_me, which was
-generated by GNU Autoconf 2.65.  Invocation command line was
+generated by GNU Autoconf 2.68.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
@@ -25317,10 +25301,10 @@
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
 config.status
-configured by $0, generated by GNU Autoconf 2.65,
+configured by $0, generated by GNU Autoconf 2.68,
   with options \\"\$ac_cs_config\\"
 
-Copyright (C) 2009 Free Software Foundation, Inc.
+Copyright (C) 2010 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 
@@ -25337,11 +25321,16 @@
 while test $# != 0
 do
   case $1 in
-  --*=*)
+  --*=?*)
     ac_option=`expr "X$1" : 'X\([^=]*\)='`
     ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
     ac_shift=:
     ;;
+  --*=)
+    ac_option=`expr "X$1" : 'X\([^=]*\)='`
+    ac_optarg=
+    ac_shift=:
+    ;;
   *)
     ac_option=$1
     ac_optarg=$2
@@ -25363,6 +25352,7 @@
     $ac_shift
     case $ac_optarg in
     *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    '') as_fn_error $? "missing file argument" ;;
     esac
     as_fn_append CONFIG_FILES " '$ac_optarg'"
     ac_need_defaults=false;;
@@ -25375,7 +25365,7 @@
     ac_need_defaults=false;;
   --he | --h)
     # Conflict between --help and --header
-    as_fn_error "ambiguous option: \`$1'
+    as_fn_error $? "ambiguous option: \`$1'
 Try \`$0 --help' for more information.";;
   --help | --hel | -h )
     $as_echo "$ac_cs_usage"; exit ;;
@@ -25384,7 +25374,7 @@
     ac_cs_silent=: ;;
 
   # This is an error.
-  -*) as_fn_error "unrecognized option: \`$1'
+  -*) as_fn_error $? "unrecognized option: \`$1'
 Try \`$0 --help' for more information." ;;
 
   *) as_fn_append ac_config_targets " $1"
@@ -25488,7 +25478,7 @@
     "tests/progs/Makefile") CONFIG_FILES="$CONFIG_FILES tests/progs/Makefile:build/top.mk:tests/progs/Makefile.in:build/rules.mk" ;;
     "default") CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
 
-  *) as_fn_error "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
+  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
   esac
 done
 
@@ -25511,9 +25501,10 @@
 # after its creation but before its name has been assigned to `$tmp'.
 $debug ||
 {
-  tmp=
+  tmp= ac_tmp=
   trap 'exit_status=$?
-  { test -z "$tmp" || test ! -d "$tmp" || rm -fr "$tmp"; } && exit $exit_status
+  : "${ac_tmp:=$tmp}"
+  { test ! -d "$ac_tmp" || rm -fr "$ac_tmp"; } && exit $exit_status
 ' 0
   trap 'as_fn_exit 1' 1 2 13 15
 }
@@ -25521,12 +25512,13 @@
 
 {
   tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
-  test -n "$tmp" && test -d "$tmp"
+  test -d "$tmp"
 }  ||
 {
   tmp=./conf$$-$RANDOM
   (umask 077 && mkdir "$tmp")
-} || as_fn_error "cannot create a temporary directory in ." "$LINENO" 5
+} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
+ac_tmp=$tmp
 
 # Set up the scripts for CONFIG_FILES section.
 # No need to generate them if there are no CONFIG_FILES.
@@ -25543,12 +25535,12 @@
 fi
 ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
 if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
-  ac_cs_awk_cr='\r'
+  ac_cs_awk_cr='\\r'
 else
   ac_cs_awk_cr=$ac_cr
 fi
 
-echo 'BEGIN {' >"$tmp/subs1.awk" &&
+echo 'BEGIN {' >"$ac_tmp/subs1.awk" &&
 _ACEOF
 
 
@@ -25557,18 +25549,18 @@
   echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
   echo "_ACEOF"
 } >conf$$subs.sh ||
-  as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
-ac_delim_num=`echo "$ac_subst_vars" | grep -c '$'`
+  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
+ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   . ./conf$$subs.sh ||
-    as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
 
   ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
   if test $ac_delim_n = $ac_delim_num; then
     break
   elif $ac_last_try; then
-    as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
   else
     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
   fi
@@ -25576,7 +25568,7 @@
 rm -f conf$$subs.sh
 
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
-cat >>"\$tmp/subs1.awk" <<\\_ACAWK &&
+cat >>"\$ac_tmp/subs1.awk" <<\\_ACAWK &&
 _ACEOF
 sed -n '
 h
@@ -25624,7 +25616,7 @@
 rm -f conf$$subs.awk
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 _ACAWK
-cat >>"\$tmp/subs1.awk" <<_ACAWK &&
+cat >>"\$ac_tmp/subs1.awk" <<_ACAWK &&
   for (key in S) S_is_set[key] = 1
   FS = ""
 
@@ -25656,21 +25648,29 @@
   sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
 else
   cat
-fi < "$tmp/subs1.awk" > "$tmp/subs.awk" \
-  || as_fn_error "could not setup config files machinery" "$LINENO" 5
+fi < "$ac_tmp/subs1.awk" > "$ac_tmp/subs.awk" \
+  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
 _ACEOF
 
-# VPATH may cause trouble with some makes, so we remove $(srcdir),
-# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
+# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
+# ${srcdir} and @srcdir@ entries from VPATH if srcdir is ".", strip leading and
 # trailing colons and then remove the whole line if VPATH becomes empty
 # (actually we leave an empty line to preserve line numbers).
 if test "x$srcdir" = x.; then
-  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
-s/:*\$(srcdir):*/:/
-s/:*\${srcdir}:*/:/
-s/:*@srcdir@:*/:/
-s/^\([^=]*=[	 ]*\):*/\1/
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
+h
+s///
+s/^/:/
+s/[	 ]*$/:/
+s/:\$(srcdir):/:/g
+s/:\${srcdir}:/:/g
+s/:@srcdir@:/:/g
+s/^:*//
 s/:*$//
+x
+s/\(=[	 ]*\).*/\1/
+G
+s/\n//
 s/^[^=]*=[	 ]*$//
 }'
 fi
@@ -25682,7 +25682,7 @@
 # No need to generate them if there are no CONFIG_HEADERS.
 # This happens for instance with `./config.status Makefile'.
 if test -n "$CONFIG_HEADERS"; then
-cat >"$tmp/defines.awk" <<\_ACAWK ||
+cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
 BEGIN {
 _ACEOF
 
@@ -25694,11 +25694,11 @@
 # handling of long lines.
 ac_delim='%!_!# '
 for ac_last_try in false false :; do
-  ac_t=`sed -n "/$ac_delim/p" confdefs.h`
-  if test -z "$ac_t"; then
+  ac_tt=`sed -n "/$ac_delim/p" confdefs.h`
+  if test -z "$ac_tt"; then
     break
   elif $ac_last_try; then
-    as_fn_error "could not make $CONFIG_HEADERS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
   else
     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
   fi
@@ -25783,7 +25783,7 @@
 _ACAWK
 _ACEOF
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
-  as_fn_error "could not setup config headers machinery" "$LINENO" 5
+  as_fn_error $? "could not setup config headers machinery" "$LINENO" 5
 fi # test -n "$CONFIG_HEADERS"
 
 
@@ -25796,7 +25796,7 @@
   esac
   case $ac_mode$ac_tag in
   :[FHL]*:*);;
-  :L* | :C*:*) as_fn_error "invalid tag \`$ac_tag'" "$LINENO" 5;;
+  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
   :[FH]-) ac_tag=-:-;;
   :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
   esac
@@ -25815,7 +25815,7 @@
     for ac_f
     do
       case $ac_f in
-      -) ac_f="$tmp/stdin";;
+      -) ac_f="$ac_tmp/stdin";;
       *) # Look for the file first in the build tree, then in the source tree
 	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
 	 # because $ac_f cannot contain `:'.
@@ -25824,7 +25824,7 @@
 	   [\\/$]*) false;;
 	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
 	   esac ||
-	   as_fn_error "cannot find input file: \`$ac_f'" "$LINENO" 5;;
+	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
       esac
       case $ac_f in *\'*) ac_f=`$as_echo "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
       as_fn_append ac_file_inputs " '$ac_f'"
@@ -25850,8 +25850,8 @@
     esac
 
     case $ac_tag in
-    *:-:* | *:-) cat >"$tmp/stdin" \
-      || as_fn_error "could not create $ac_file" "$LINENO" 5 ;;
+    *:-:* | *:-) cat >"$ac_tmp/stdin" \
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5 ;;
     esac
     ;;
   esac
@@ -25981,23 +25981,24 @@
 s&@INSTALL@&$ac_INSTALL&;t t
 $ac_datarootdir_hack
 "
-eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$tmp/subs.awk" >$tmp/out \
-  || as_fn_error "could not create $ac_file" "$LINENO" 5
+eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$ac_tmp/subs.awk" \
+  >$ac_tmp/out || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 
 test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
-  { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
-  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
+  { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
+  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
+      "$ac_tmp/out"`; test -z "$ac_out"; } &&
   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined." >&5
+which seems to be undefined.  Please make sure it is defined" >&5
 $as_echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined." >&2;}
+which seems to be undefined.  Please make sure it is defined" >&2;}
 
-  rm -f "$tmp/stdin"
+  rm -f "$ac_tmp/stdin"
   case $ac_file in
-  -) cat "$tmp/out" && rm -f "$tmp/out";;
-  *) rm -f "$ac_file" && mv "$tmp/out" "$ac_file";;
+  -) cat "$ac_tmp/out" && rm -f "$ac_tmp/out";;
+  *) rm -f "$ac_file" && mv "$ac_tmp/out" "$ac_file";;
   esac \
-  || as_fn_error "could not create $ac_file" "$LINENO" 5
+  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
  ;;
   :H)
   #
@@ -26006,21 +26007,21 @@
   if test x"$ac_file" != x-; then
     {
       $as_echo "/* $configure_input  */" \
-      && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs"
-    } >"$tmp/config.h" \
-      || as_fn_error "could not create $ac_file" "$LINENO" 5
-    if diff "$ac_file" "$tmp/config.h" >/dev/null 2>&1; then
+      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs"
+    } >"$ac_tmp/config.h" \
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5
+    if diff "$ac_file" "$ac_tmp/config.h" >/dev/null 2>&1; then
       { $as_echo "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
 $as_echo "$as_me: $ac_file is unchanged" >&6;}
     else
       rm -f "$ac_file"
-      mv "$tmp/config.h" "$ac_file" \
-	|| as_fn_error "could not create $ac_file" "$LINENO" 5
+      mv "$ac_tmp/config.h" "$ac_file" \
+	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
     fi
   else
     $as_echo "/* $configure_input  */" \
-      && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs" \
-      || as_fn_error "could not create -" "$LINENO" 5
+      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs" \
+      || as_fn_error $? "could not create -" "$LINENO" 5
   fi
 # Compute "$ac_file"'s index in $config_headers.
 _am_stamp_count=1
@@ -26271,7 +26272,7 @@
 ac_clean_files=$ac_clean_files_save
 
 test $ac_write_fail = 0 ||
-  as_fn_error "write failure creating $CONFIG_STATUS" "$LINENO" 5
+  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5
 
 
 # configure is writing to config.log, and then calls config.status.
@@ -26292,7 +26293,7 @@
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
   # would make configure fail if this is the last instruction.
-  $ac_cs_success || as_fn_exit $?
+  $ac_cs_success || as_fn_exit 1
 fi
 if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts" >&5
diff -ur openldap-2.4.26/configure.in openldap-2.4.26-32/configure.in
--- openldap-2.4.26/configure.in	2011-06-30 15:13:36.000000000 +0000
+++ openldap-2.4.26-32/configure.in	2013-01-11 23:50:09.511317480 +0000
@@ -1161,13 +1161,13 @@
 	AC_CHECK_HEADERS(openssl/ssl.h)
 
 	if test $ac_cv_header_openssl_ssl_h = yes ; then
-		AC_CHECK_LIB(ssl, SSL_library_init,
+		AC_CHECK_LIB(ssl, sunw_SSL_library_init,
 			[have_openssl=yes
 			need_rsaref=no], [have_openssl=no],
 			[-lcrypto])
 
 		if test $have_openssl = no ; then
-			AC_CHECK_LIB(ssl, ssl3_accept, 
+			AC_CHECK_LIB(ssl, sunw_ssl3_accept, 
 				[have_openssl=yes
 				need_rsaref=yes], [have_openssl=no],
 				[-lcrypto -lRSAglue -lrsaref])
Only in openldap-2.4.26-32: libtool
